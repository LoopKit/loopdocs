<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../../img/favicon.ico">
        <title>Pump Battery - Loop Docs</title>
        <link href="../../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/docco.min.css">
        <link href="../../../css/admonitions.css" rel="stylesheet">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

        <script src="../../../js/jquery-1.10.2.min.js" defer></script>
        <script src="../../../js/bootstrap-3.0.3.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-109876065-1', 'loopkit.github.io');
            ga('send', 'pageview');
        </script> 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
            <div class="container">

                <!-- Collapsed navigation -->
                <div class="navbar-header">
                    <!-- Expander button -->
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="../../..">Loop Docs</a>
                </div>

                <!-- Expanded navigation -->
                <div class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li >
                                <a href="../../..">Welcome to Loop</a>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Setup <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../../../setup/overview/">Overview</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#">Requirements</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../setup/requirements/pump/">Insulin Pump</a>
</li>
            
<li >
    <a href="../../../setup/requirements/cgm/">CGM</a>
</li>
            
<li >
    <a href="../../../setup/requirements/rileylink/">RileyLink</a>
</li>
            
<li >
    <a href="../../../setup/requirements/computer/">Computer</a>
</li>
            
<li >
    <a href="../../../setup/requirements/iphone/">iPhone</a>
</li>
            
<li >
    <a href="../../../setup/requirements/appledev/">Apple Developer</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">Install Loop</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../setup/build/installing/">Building App</a>
</li>
            
<li >
    <a href="../../../setup/build/build_errors/">Build Errors</a>
</li>
            
<li >
    <a href="../../../setup/build/code_customization/">Code Customization</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">Loop App setup</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../setup/loop-settings/settings/">Loop Settings</a>
</li>
            
<li >
    <a href="../../../setup/loop-settings/services/">Loop Services</a>
</li>
            
<li >
    <a href="../../../setup/loop-settings/rileylink_menu/">RileyLink menu</a>
</li>
            
<li >
    <a href="../../../setup/loop-settings/pump/">Pump Setup</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">Update</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../setup/update/updating/">Updating</a>
</li>
            
<li >
    <a href="../../../setup/update/new-version/">New Version Info</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Operation <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../../overview/">Loop Displays</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#">How to Use Loop App</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../carbs/">Carb Entries</a>
</li>
            
<li >
    <a href="../bolus/">Bolus</a>
</li>
            
<li >
    <a href="../workout/">Workout Targets</a>
</li>
            
<li >
    <a href="../ice/">Using ICE info</a>
</li>
            
<li >
    <a href="../watch/">Apple Watch</a>
</li>
            
<li >
    <a href="../widget/">iPhone widget</a>
</li>
            
<li >
    <a href="../healthapp/">Health App</a>
</li>
            
<li >
    <a href="../notifications/">Loop Notifications</a>
</li>
            
<li class="active">
    <a href="./">Pump Battery</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">Looping Tips</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../loop/open-loop/">Open Loop</a>
</li>
            
<li >
    <a href="../../loop/close-loop/">Closed Loop</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">Algorithm</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../algorithm/overview/">Overview</a>
</li>
            
<li >
    <a href="../../algorithm/bolus/">Bolus Recommendations</a>
</li>
            
<li >
    <a href="../../algorithm/prediction/">Glucose Prediction</a>
</li>
            
<li >
    <a href="../../algorithm/temp_basal/">Temp Basal Adjustments</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Troubleshooting <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../../../troubleshooting/overview/">Overview</a>
</li>
                                    
<li >
    <a href="../../../troubleshooting/green-loop/">Grey Loop</a>
</li>
                                    
<li >
    <a href="../../../troubleshooting/yellow-red-loop/">Yellow/Red Loop</a>
</li>
                                    
<li >
    <a href="../../../troubleshooting/mlab_cleanup/">NS display</a>
</li>
                                    
<li >
    <a href="../../../troubleshooting/priming/">Priming and Sites</a>
</li>
                                    
<li >
    <a href="../../../troubleshooting/rileylink/">RileyLink</a>
</li>
                                    
<li >
    <a href="../../../troubleshooting/time-change/">Time Changes</a>
</li>
                                    
<li >
    <a href="../../../troubleshooting/pump-errors/">Pump Errors</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Nightscout <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../../../nightscout/overview/">Overview</a>
</li>
                                    
<li >
    <a href="../../../nightscout/new_user/">Setup New Site</a>
</li>
                                    
<li >
    <a href="../../../nightscout/update_user/">Update Site</a>
</li>
                                    
<li >
    <a href="../../../nightscout/azure_migration/">Azure to Heroku</a>
</li>
                                    
<li >
    <a href="../../../nightscout/loop_pill/">Loop Pill</a>
</li>
                                    
<li >
    <a href="../../../nightscout/ifttt/">IFTTT</a>
</li>
                                    
<li >
    <a href="../../../nightscout/pebble/">Pebble</a>
</li>
                                    
<li >
    <a href="../../../nightscout/pushover/">Remote Notifications</a>
</li>
                                    
<li >
    <a href="../../../nightscout/reports/">Reports</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav navbar-right">
                        <li>
                            <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li >
                                <a rel="next" href="../notifications/">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li >
                                <a rel="prev" href="../../loop/open-loop/">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#pump-battery">Pump Battery</a></li>
            <li><a href="#discharge-curves">Discharge Curves</a></li>
            <li><a href="#medtronic-pump-battery-level-indicator">Medtronic Pump Battery Level Indicator</a></li>
            <li><a href="#loops-pump-battery-level-indicator">Loop's Pump Battery Level Indicator</a></li>
            <li><a href="#nightscout-pump-battery-display">Nightscout Pump Battery Display</a></li>
            <li><a href="#nightscout-pump-battery-alarms">Nightscout Pump Battery Alarms</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h1 id="pump-battery">Pump Battery<a class="headerlink" href="#pump-battery" title="Permanent link">⌁</a></h1>
<p>One common confusion point for new Loop users is how to interpret their pump's battery levels and whether they need to change their pump batteries based on which pieces of information.</p>
<h2 id="discharge-curves">Discharge Curves<a class="headerlink" href="#discharge-curves" title="Permanent link">⌁</a></h2>
<p>There are generally two different types of AAA batteries that we use in these Medtronic pumps; alkaline or lithium.</p>
<p>To understand pump battery levels, you first need to know a little about <strong>battery discharge curves</strong>.  It's not a hard concept...basically how a battery dies over time as it is used or sits in a drawer.  More technically said, a battery discharge curve is the measure of volts that a battery puts out over time.  Batteries start at a higher voltage output and slowly that volatge output degrades over time (or use) until the battery no longer provides enough "ummph" to keep the electronic gadget going.  BUT, alkaline batteries and lithium batteries have different discharge curves due to the chemistry inside them, and the curves can be slightly different depending on environment (temperature) and battery manufacturer.</p>
<p>Alkaline batteries have a relatively steady voltage drop over time, as shown below.  Notice the shape of the curve has a significant amount of time in the 1.3 to 1.2 volts range, and a relatively smooth decline to about 1.2 volts.</p>
<p align="center">
<img src="../img/alkaline.jpg" width="250">
</p>

<p>Lithium batteries have a much steadier voltage output over time, as shown below.  Notice how the shape of the curve is relatively flat for a large portion of the battery life before suddenly off around 1.3 volts.</p>
<p align="center">
<img src="../img/lithium.jpg" width="250">
</p>

<p>What does the above information mean in terms of Looping?  A lithium battery at 1.3v is going to have a much quicker time to death than an alkaline battery sitting at 1.3v.  You might only get a couple hours of looping left when a lithium battery is at 1.3v, but a alkaline battery at 1.3v might go another several days.  So when we talk about setting alarm levels in either system, your battery type is an important consideration.</p>
<h2 id="medtronic-pump-battery-level-indicator">Medtronic Pump Battery Level Indicator<a class="headerlink" href="#medtronic-pump-battery-level-indicator" title="Permanent link">⌁</a></h2>
<p>If you read Medtronic's literature, it will tell you to use Energizer alkaline batteries in their pumps.  Why would that be?  Hint: the answer doesn't mean that Duracell batteries are inherently worse than Energizer or that lithium batteries won't work in Medtronic pumps.</p>
<p><strong>The answer is all about the accuracy of their little pump battery level indicator on their pump's screen.</strong>  Medtronic calibrated their pump battery level indicator to:</p>
<ul>
<li>Energizer alkaline batteries</li>
<li>Normal (non-Loop) uses</li>
<li>Temperatures between 37°F (3°C) to 104°F (40°C).</li>
</ul>
<p>In other words, Medtronic ran experiments to see exactly how long an Energizer alkaline battery will last in normal pump use and made their own discharge curve.  They programmed their pump battery level indicator to change from 4 bars to 3 bars to 2 bars to 1 bar based on that particular discharge curve.</p>
<p>However, Loop users are slightly more demanding on the pump's battery/voltage than simply having the insulin delivery.  We are also asking for the pump to perform radio communications, in addition to delivering insulin.  That radio communications needs a slightly higher voltage than the typical "normal" pump use.  So while a non-Looper might be ok running their pump until a voltage of about 1.12 for insulin delivery, radio communications might stop at a voltage output of about 1.17.  If you experiment with your Looping pump, you'll find Loop will turn red from failed pump comms before the pump actually fails at insulin delivery.  This difference between "failure" voltages needs to be considered when determining how much useful battery life is left for a pump battery.</p>
<p>In summary, that little pump battery indicator on the Medtronic pump screen is ONLY useful if you are:</p>
<ul>
<li>not using the pump for Looping,</li>
<li>using Energizer alkaline batteries, and</li>
<li>in the temperature environment similar to their testing.</li>
</ul>
<div class="admonition info">
<p>Loop users should not rely on their Medtronic pump screen's pump battery indicator, and instead use the Loop's pump battery level indicator.</p>
</div>
<h2 id="loops-pump-battery-level-indicator">Loop's Pump Battery Level Indicator<a class="headerlink" href="#loops-pump-battery-level-indicator" title="Permanent link">⌁</a></h2>
<p>Keeping the information about battery discharge curves in mind, Loop developers tested various battery brands and types to develop discharge curves for Loop users.  These discharge curves form the basis of the pump battery level indicator found in the top right of the Loop's main display screen and the pump battery notifications provided by the Loop app.  The pump battery level indicator will also report in %.</p>
<ul>
<li>For x23 and x54 model users, the Loop's pump battery level will move in 25% increments.</li>
<li>For x15 and x22 model users, the Loop's pump battery level will move in discrete % increments.</li>
</ul>
<p>Using information of the battery type selected and the pump model being used, the Loop's pump battery level notifications are designed to give the user about 8 hours of notice before pump communications are likely to fail.  The Loop user should have some additional time after pump comms fail before actual insulin delivery would stop.</p>
<h2 id="nightscout-pump-battery-display">Nightscout Pump Battery Display<a class="headerlink" href="#nightscout-pump-battery-display" title="Permanent link">⌁</a></h2>
<p>The Nightscout information regarding pump battery levels will depend on pump model being used.</p>
<ul>
<li>If you use an x23 or x54 pump and MySentry, the pump levels are reported as <strong>percent</strong> to NS, because that's how MySentry reports the data to Loop.  The packets use 100%, 75%, 50%, and 25% increments, and the Loop's main display matches the NS pump display.</li>
<li>If you use an x22 or x15 pump, the pump levels are reported as <strong>voltage</strong> readings to NS because Loop has to specifically ask the pump for its voltage reading.  The Loop's main display will show pump battery level as discrete %, not the individual voltage measurement.</li>
<li>No matter what pump you are using, you can always get a the current pump battery's voltage by using the RileyLink's <code>Read Pump Status</code> command.</li>
<li>The extra communications effort for non-MySentry model pumps will mean slightly shorter battery life vs. MySentry model pumps.</li>
</ul>
<h2 id="nightscout-pump-battery-alarms">Nightscout Pump Battery Alarms<a class="headerlink" href="#nightscout-pump-battery-alarms" title="Permanent link">⌁</a></h2>
<p>The Nightscout alarms are based on the Heroku settings that you have input specifically.  If you don't specifically set them, Nightscout will use the default settings for pump battery alerts as shown below:</p>
<p align="center">
<img src="../img/pump-ns.png" width="650">
</p>

<p>Nightscout pump battery levels, if you leave things at default installation, will not trigger alarms.  If however you add an setting of <code>PUMP_ENABLE_ALERTS</code> to <code>true</code>, you will receive pump battery notifications according to the levels shown in the parenthesis above.  For example, your x23 pump is reporting its levels in percent, therefore you'd receive a warning yellow alarm at 30% and an urgent red alarm at 20%.  Your x22 pump however is reporting its levels at voltage readings, therefore you'd receive a warning yellow alarm at 1.35v and an urgent red alarm at 1.30v.</p>
<div class="admonition info">
<p>Are the default NS alarm levels going to work for you?  The answer depends on what type of battery level you are using, what model pump you are using, and how much advance notification you want to receive before needing to change a pump battery.  There is a bit of personal preference and experimentation to finding what works for you.</p>
</div>
<p align="center">
<u><b>For x22 or x15 pump users, the NS alert settings that may need to be adjusted are the ones based on voltage.</b></u>
</p>

<p>Generally speaking, for a x22 or x15 pump using alkaline batteries, the default NS alarm levels will be too early to be useful and lead you to changing out your battery too frequently.  Alkaline batteries can go to low 1.2s or high 1.1s before Looping starts to have communication problems.  How much lower than the default voltage 1.35/1.30 alarm levels you want to go will depend on how far in advance you want to be warned about an upcoming battery change.</p>
<p>If however, you are using a x22 or x15 pump with lithium batteries, the default 1.35v/1.30v alarm levels may be completely appropriate.  Remember how the lithium battery curves at the start of this discussion died off quickly around 1.3v?  You won't get hardly any heads-up notice for a lithium battery if you set the alarm below 1.3v.</p>
<p align="center">
<u><b>For x23 or x54 pump users, the NS alert settings that may need to be adjusted are the ones based on percentage settings.</b></u>
</p>

<p>Alkaline and lithium batteries should have automatically had their percentage-remaining based on the correct battery type in your Loop settings.  So, generally speaking the default NS alert levels don't generally need adjusting.  However, if you are using lithium batteries, the drop off between 75% to 25% can be quite dramatic and not be easy to anticipate (especially if the drop happens overnight).</p>
<p>As an alternate method of tracking pump battery changes, you could use the insulin age (IAGE) plug-in to anticipate your pump battery changes as well.  For example, after tracking pump battery life on my 723 using energizer batteries lithium batteries for the last several months, I know that we get about 15 days plus a handful of hours.  The amount of hours more beyond 15 days varies depending on how much we've interacted with the pump buttons directly, whether we've looped the full 15 days solid, and if the pump has been in extreme weather (cold weather can sap pump battery life).  By tracking the pump battery changes with NS's careportal "insulin cartridge change", I can see in advance if we are nearing an overnight on a 15 day battery and decide to change batteries before overnight to prevent any middle-of-night battery issues.</p>
<div class="admonition info">
<ul>
<li>Lithium batteries will get signifcantly longer life than an alkaline battery.</li>
<li>Experiment and track your particular pump model and battery type to understand what NS settings will work best for you.</li>
<li>Do not rely on the pump's on-screen pump battery indicator, especially when using lithium batteries.</li>
</ul>
</div></div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "../../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../../js/base.js" defer></script>
        <script src="../../../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="Keyboard Shortcuts Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Keyboard Shortcuts</h4>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
