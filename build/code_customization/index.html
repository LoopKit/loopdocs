<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">

	<title>Customize your Loop - LoopDocs</title>

        <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link rel="stylesheet" href="../../css/highlight.css">
        <link href="../../css/base.css" rel="stylesheet">
        <link href="../../css/admonitions.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-109876065-1', 'loopkit.github.io');
            ga('send', 'pageview');
        </script>
        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <!-- Main title -->
            <a class="navbar-brand" href="../..">LoopDocs</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav">
            
            
                <li >
                    <a href="../..">Home</a>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">FAQs <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        
<li >
    <a href="../../faqs/docs-faqs/">Using This Site FAQs</a>
</li>

                    
                        
<li >
    <a href="../../faqs/FAQs/">General Loop FAQs</a>
</li>

                    
                        
<li >
    <a href="../../faqs/omnipod-faqs/">Omnipod FAQs</a>
</li>

                    
                        
<li >
    <a href="../../faqs/branch-faqs/">Branch FAQs</a>
</li>

                    
                        
<li >
    <a href="../../faqs/update-faqs/">Update/Rebuild Loop FAQs</a>
</li>

                    
                        
<li >
    <a href="../../faqs/ios13/">iOS 13 FAQs</a>
</li>

                    
                        
<li >
    <a href="../../faqs/rileylink-faqs/">RileyLink FAQs</a>
</li>

                    
                        
<li >
    <a href="../../faqs/algorithm-faqs/">Algorithm FAQs</a>
</li>

                    
                        
<li >
    <a href="../../faqs/cgm-faqs/">CGM FAQs</a>
</li>

                    
                        
<li >
    <a href="../../faqs/safety-faqs/">Safety Tips</a>
</li>

                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown active">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Build App <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        
<li >
    <a href="../overview/">Overview</a>
</li>

                    
                        
<li >
    <a href="../step1/">Step 1 Compatible Computer</a>
</li>

                    
                        
<li >
    <a href="../step2/">Step 2 Compatible iPhone/iPod touch</a>
</li>

                    
                        
<li >
    <a href="../step3/">Step 3 Compatible Pump</a>
</li>

                    
                        
<li >
    <a href="../step4/">Step 4 Compatible CGM</a>
</li>

                    
                        
<li >
    <a href="../step5/">Step 5 Order a RileyLink</a>
</li>

                    
                        
<li >
    <a href="../step6/">Step 6 Enroll in Apple Developer Program</a>
</li>

                    
                        
<li >
    <a href="../step7/">Step 7 Install Homebrew</a>
</li>

                    
                        
<li >
    <a href="../step8/">Step 8 Download Xcode</a>
</li>

                    
                        
<li >
    <a href="../step9/">Step 9 Xcode Preferences</a>
</li>

                    
                        
<li >
    <a href="../step10/">Step 10 Test Settings</a>
</li>

                    
                        
<li >
    <a href="../step11/">Step 11 Make plans for Loop Data</a>
</li>

                    
                        
<li >
    <a href="../step12/">Step 12 Meet Community</a>
</li>

                    
                        
<li >
    <a href="../step13/">Step 13 Download Loop code</a>
</li>

                    
                        
<li >
    <a href="../step14/">Step 14 Build Loop app</a>
</li>

                    
                        
<li >
    <a href="../build_errors/">Oh dear! Build errors?</a>
</li>

                    
                        
<li class="active">
    <a href="./">Customize your Loop</a>
</li>

                    
                        
<li >
    <a href="../updating/">Ready to Update your Loop?</a>
</li>

                    
                        
<li >
    <a href="../loopworkspace/">LoopWorkspace</a>
</li>

                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Set up App <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        
<li >
    <a href="../../operation/overview/">Overview</a>
</li>

                    
                        
<li >
    <a href="../health/">Step 1: Health Permissions</a>
</li>

                    
                        
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Step 2: Add Pump</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../operation/loop-settings/mdt-pump/">Add Medtronic</a>
</li>

        
            
<li >
    <a href="../../operation/loop-settings/omnipod-pump/">Add Omnipod</a>
</li>

        
    </ul>
  </li>

                    
                        
<li >
    <a href="../../operation/loop-settings/cgm/">Step 3: Add CGM</a>
</li>

                    
                        
<li >
    <a href="../../operation/loop-settings/configurations/">Step 4: Configurations</a>
</li>

                    
                        
<li >
    <a href="../../operation/loop-settings/overrides/">Step 5: Override Presets</a>
</li>

                    
                        
<li >
    <a href="../../operation/loop-settings/services/">Step 6: Loop Services</a>
</li>

                    
                        
<li >
    <a href="../../operation/loop-settings/displays/">Loop Displays</a>
</li>

                    
                        
<li >
    <a href="../../operation/loop-settings/rileylink/">RileyLink menu</a>
</li>

                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Operate <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">How to Use Loop App</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../operation/features/carbs/">Carb Entries</a>
</li>

        
            
<li >
    <a href="../../operation/features/bolus/">Bolus</a>
</li>

        
            
<li >
    <a href="../../operation/features/workout/">Workout Targets</a>
</li>

        
            
<li >
    <a href="../../operation/features/ice/">Using ICE info</a>
</li>

        
            
<li >
    <a href="../../operation/features/watch/">Apple Watch</a>
</li>

        
            
<li >
    <a href="../../operation/features/widget/">iPhone widget</a>
</li>

        
            
<li >
    <a href="../../operation/features/notifications/">Loop Notifications</a>
</li>

        
            
<li >
    <a href="../../operation/features/battery/">Pump Battery</a>
</li>

        
    </ul>
  </li>

                    
                        
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Looping Tips</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../operation/loop/open-loop/">Open Loop</a>
</li>

        
            
<li >
    <a href="../../operation/loop/close-loop/">Closed Loop</a>
</li>

        
            
<li >
    <a href="../../operation/loop/looptips/">Loop Tips</a>
</li>

        
    </ul>
  </li>

                    
                        
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Algorithm</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../operation/algorithm/overview/">Overview</a>
</li>

        
            
<li >
    <a href="../../operation/algorithm/bolus/">Bolus Recommendations</a>
</li>

        
            
<li >
    <a href="../../operation/algorithm/prediction/">Glucose Prediction</a>
</li>

        
            
<li >
    <a href="../../operation/algorithm/temp-basal/">Temp Basal Adjustments</a>
</li>

        
    </ul>
  </li>

                    
                        
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Troubleshoot</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../troubleshooting/overview/">Overview</a>
</li>

        
            
<li >
    <a href="../../troubleshooting/loop-crashing/">Loop App crashes</a>
</li>

        
            
<li >
    <a href="../../troubleshooting/yellow-red-loop/">Red Loop</a>
</li>

        
            
<li >
    <a href="../../troubleshooting/pod-pairing/">Pod Pairing Failures</a>
</li>

        
            
<li >
    <a href="../../troubleshooting/uncertain-bolus/">Pod Uncertain Boluses</a>
</li>

        
            
<li >
    <a href="../../troubleshooting/priming/">MDT Priming and Sites</a>
</li>

        
            
<li >
    <a href="../../troubleshooting/time-change/">Time Changes</a>
</li>

        
            
<li >
    <a href="../../troubleshooting/pump-errors/">MDT Pump Errors</a>
</li>

        
            
<li >
    <a href="../../troubleshooting/omnipod-faults/">Omnipod Faults</a>
</li>

        
    </ul>
  </li>

                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Nightscout <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        
<li >
    <a href="../../nightscout/overview/">Overview</a>
</li>

                    
                        
<li >
    <a href="../../nightscout/new_user/">Brand New NS</a>
</li>

                    
                        
<li >
    <a href="../../nightscout/update_user/">Retrofit Existing NS</a>
</li>

                    
                        
<li >
    <a href="../../nightscout/troublehoot/">Setup Troubleshooting</a>
</li>

                    
                        
<li >
    <a href="../../nightscout/mlab_cleanup/">NS Stopped Working</a>
</li>

                    
                        
<li >
    <a href="../../nightscout/remote-overrides/">Remote Overrides</a>
</li>

                    
                        
<li >
    <a href="../../nightscout/ifttt/">IFTTT</a>
</li>

                    
                        
<li >
    <a href="../../nightscout/pebble/">Pebble</a>
</li>

                    
                        
<li >
    <a href="../../nightscout/pushover/">Remote Notifications</a>
</li>

                    
                        
<li >
    <a href="../../nightscout/reports/">Reports</a>
</li>

                    
                    </ul>
                </li>
            
            
            </ul>

            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                <li >
                    <a rel="next" href="../build_errors/">
                        <i class="fa fa-arrow-left"></i> Previous
                    </a>
                </li>
                <li >
                    <a rel="prev" href="../updating/">
                        Next <i class="fa fa-arrow-right"></i>
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#code-customizations">Code Customizations</a></li>
        
            <li><a href="#disable-authentication-for-bolusing">Disable Authentication for Bolusing</a></li>
        
            <li><a href="#workout-range-duration">Workout Range Duration</a></li>
        
            <li><a href="#default-carb-absorption-times">Default Carb Absorption Times</a></li>
        
            <li><a href="#exponential-insulin-curve">Exponential Insulin Curve</a></li>
        
            <li><a href="#loop-logo">Loop Logo</a></li>
        
            <li><a href="#apple-watch-customizations">Apple Watch Customizations</a></li>
        
    
    </ul>
</div></div>
            <div class="col-md-9" role="main">

<h2 id="code-customizations">Code Customizations<a class="headerlink" href="#code-customizations" title="Permanent link">⌁</a></h2>
<p>Based on Loop users’ experience, there are some customizations that you may want to incorporate ahead of building your Loop app and Apple Watch app.  These customizations must be done prior to building the Loop app onto your iPhone, they cannot be done from within the app itself.</p>
<div class="admonition info">
<p>Note: Every effort will be made to update the line numbers as the code is updated, but there may be times where the screenshots and line numbers are slightly different than the current version of Loop code.  These instructions have been updated for Loop v1.9.4.</p>
</div>
<h3 id="disable-authentication-for-bolusing">Disable Authentication for Bolusing<a class="headerlink" href="#disable-authentication-for-bolusing" title="Permanent link">⌁</a></h3>
<p>Depending on your iPhone preferences and model, you may have Face ID or Touch ID enabled.  Those security features will also be used to authenticate bolus delivery in Loop.  You can choose to disable authentication (i.e., not require Face ID, Touch ID, or passcode for bolusing) through the following code customization:</p>
<p>Modify Line 191 in the Loop&gt;&gt;View Controllers&gt;&gt;BolusViewController.swift.  Add the <code>false &amp;&amp;</code> as shown in the screenshot below:</p>
<p align="center">
<img src="../img/custom-id.png" width="750">
</p>

<h3 id="workout-range-duration">Workout Range Duration<a class="headerlink" href="#workout-range-duration" title="Permanent link">⌁</a></h3>
<p><img style="float: right;" width="200" src="../img/workout_default.png">
If you’d like more than just the standard 1 or 2-hour duration for the Workout Range, you can add or modify the code to add another time interval or edit the existing ones.</p>
<p>Go to the Loop&gt;&gt;Extensions&gt;&gt;UIAlertController.swift and modify Line 32.  The default has 1 and 2 hours as shown where the arrow is pointing in the screenshot.  You can edit those to whatever duration you want (in units of hours) and add a duration if you prefer.  If you’d like 1, 2, and 3 hours options...simply edit the numbers in the brackets to read [1, 2, 3]. It is possible to enter less than 1-hour intervals such as 15 min, 30 min, 45 min by editing the brackets to read [0.25, 0.5, 0.75].</p>
<p align="center">
<img src="../img/workout_add.png" width="750">
</p>

<h3 id="default-carb-absorption-times">Default Carb Absorption Times<a class="headerlink" href="#default-carb-absorption-times" title="Permanent link">⌁</a></h3>
<p><img style="float: right;" width="200" src="../img/carb_screen.png"></p>
<p>Loop’s default carb absorption times are based on the high, medium, and low glycemic index absorption curves presented in <i>Think Like A Pancreas</i> by Gary Scheiner.  Currently the lollipop icon is set for 2 hours, taco icon for 3 hours, and pizza icon for 4 hours.  </p>
<p>You can modify these defaults to suit your needs, however modification of these values is not as helpful/common as previous Loop versions. Since Loop v1.4, Loop has included dynamic carb absorption means that Loop will start with your entered carb absorption time (initially multiplying the absorption time by 1.5 to help give an margin of error), and then dynamically adjust the observed absorption time (either shorter or longer) based on the observed BG impacts.  So, typically, most people are finding that modification of the default carb absorption times is no longer necessary.</p>
<p>If you would like to modify those defaults, you can do so in the Loop&gt;&gt;Managers&gt;&gt;LoopDataManager.swift Lines 65-67.  Note the times are in hours, not minutes, in the code.  For Omnipod-testing branch users, this code is instead found in Loop Core &gt;&gt; LoopSettings.swift Line 16.</p>
<p align="center">
<img src="../img/carb_times.png" width="750">
</p>

<h3 id="exponential-insulin-curve">Exponential Insulin Curve<a class="headerlink" href="#exponential-insulin-curve" title="Permanent link">⌁</a></h3>
<p>The Exponential Insulin Curve Models (Rapid-Acting Adult, Rapid-Acting Child, and Fiasp) default to an insulin duration of 360 minutes...but the peak activity of the various curves differs, as follows:</p>
<ul>
<li>Rapid-acting adult curve peaks at 75 minutes</li>
<li>Rapid-acting child curve peaks at 65 minutes</li>
<li>Fiasp peaks curve peaks at 55 minutes</li>
</ul>
<p>If you wish to customize these values, you can adjust them on Lines 22-38 in the Common&gt;&gt;Models&gt;&gt;Insulin&gt;&gt;ExponentialInsulinModelPreset.swift file.</p>
<p>For Omnipod-testing branch users, this code is instead found in LoopCore&gt;&gt;Insulin&gt;&gt;ExponentialInsulinModelPreset.swift.</p>
<p align="center">
<img src="../img/exponential.png" width="750">
</p>

<h3 id="loop-logo">Loop Logo<a class="headerlink" href="#loop-logo" title="Permanent link">⌁</a></h3>
<p>If you want an app logo other than the default green circle for your Loop app, you can easily customize this.  To make it easy to generate the correct sizes of icons, you can use a site like <a href="http://www.appicon.build/">appicon.build</a> and just drag and drop your source image. The source image needs to be 1024 pixels x 1024 pixels.  The site will email you a zip file.  Double click the zip file, choose the “ios” folder, and copy the contents of the Appicon.appiconset as shown highlighted below.</p>
<p align="center">
<img src="../img/appicon1.jpg" width="450">
</p>

<p>Now navigate to the corresponding Loop folder as shown below.  Replace the contents of the Appicon.appiconset with your copied images.</p>
<p align="center">
<img src="../img/appicon2.jpg" width="450">
</p>

<p>You can confirm the successful change by looking in Xcode.  You should see your custom logo in the Appicon set now.  You will also likely see a yellow alert that there are “unassigned children”.  This alert will not prevent your app from building, it’s simply because the zip file contained more sizes of images than Loop app uses.  You can just leave the unassigned images as is.</p>
<p align="center">
<img src="../img/appicon3.jpg" width="450">
</p>

<h3 id="apple-watch-customizations">Apple Watch Customizations<a class="headerlink" href="#apple-watch-customizations" title="Permanent link">⌁</a></h3>
<h4 id="recommended-bolus-autofill">Recommended Bolus Autofill<a class="headerlink" href="#recommended-bolus-autofill" title="Permanent link">⌁</a></h4>
<p>The Apple Watch's default is to auto-fill to 75% of the recommended bolus.  If you wish, you can customize so that the watch auto-fills a different percentage. To do this, the multiplier can be changed from 0.75 to a value of your choice. A value of 1 will autofill 100% of the recommended bolus. A value of 0 will autofill 0% of the recommended bolus.   Go to the Watchapp Extension&gt;&gt;Controllers&gt;&gt;BolusInterfaceController.swift. Edit the section of line 96 for your customization.</p>
<p align="center">
<img src="../img/watch_bolus.png" width="750">
</p>

<h4 id="adjust-the-sensitivity-of-digital-crown-for-carb-and-bolus-entry">Adjust the sensitivity of digital crown for carb and bolus entry<a class="headerlink" href="#adjust-the-sensitivity-of-digital-crown-for-carb-and-bolus-entry" title="Permanent link">⌁</a></h4>
<p>The rate of change of the carb and bolus entry pickers when using the digital crown can be altered. You'll need to edit two lines in files within the WatchApp Extension&gt;&gt;Controllers folder.  In BolusInterfaceController.swift edit line 174, and in AddCarbsInterfaceController.swift edit line 215. The 1/24 value is the ratio of rotations of the crown to the amount of change in the value. Changing it to 1/12 would mean that twice as many turns would be needed for the same amount of carb or bolus entry.</p>
<p align="center">
<img src="../img/sensitivity1.png" width="800">
</p>

<p align="center">
<img src="../img/sensitivity2.png" width="800">
</p></div>
        </div>

        <footer class="col-md-12">
            <hr>
            
            <center>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</center>
        </footer>

        <script src="../../js/jquery-1.10.2.min.js"></script>
        <script src="../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../js/highlight.pack.js"></script>
        <script>var base_url = '../..';</script>
        <script data-main="../../mkdocs/js/search.js" src="../../mkdocs/js/require.js"></script>
        <script src="../../js/base.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                        <h4 class="modal-title" id="exampleModalLabel">Search</h4>
                    </div>
                    <div class="modal-body">
                        <p>
                            From here you can search these documents. Enter
                            your search terms below.
                        </p>
                        <form role="form">
                            <div class="form-group">
                                <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                            </div>
                        </form>
                        <div id="mkdocs-search-results"></div>
                    </div>
                    <div class="modal-footer">
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>