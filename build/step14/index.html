
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="icon" href="../../loop-logo.png">
      <meta name="generator" content="mkdocs-1.3.0, mkdocs-material-7.3.6">
    
    
      
        <title>Step 14 Build Loop app - LoopDocs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.a57b2b03.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.3f5d1f46.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
      <link rel="stylesheet" href="../../stylesheets/primary-color.css">
    
    
      


    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    <script>function __prefix(e){return new URL("../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#step-14-build-loop-app" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

  

<header class="md-header md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="LoopDocs" class="md-header__button md-logo" aria-label="LoopDocs" data-md-component="logo">
      
  <img src="../../loop-logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            LoopDocs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Step 14 Build Loop app
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../.." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../overview/" class="md-tabs__link md-tabs__link--active">
        Build App
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../operation/overview/" class="md-tabs__link">
        Set Up App
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../operation/loop/open-loop/" class="md-tabs__link">
        Operate
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../troubleshooting/overview/" class="md-tabs__link">
        Troubleshoot
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../loop-3/loop-3-overview/" class="md-tabs__link">
        Loop 3
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../nightscout/overview/" class="md-tabs__link">
        Nightscout
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../faqs/docs-faqs/" class="md-tabs__link">
        FAQs
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="LoopDocs" class="md-nav__button md-logo" aria-label="LoopDocs" data-md-component="logo">
      
  <img src="../../loop-logo.png" alt="logo">

    </a>
    LoopDocs
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Build App
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Build App" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Build App
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../overview/" class="md-nav__link">
        Build Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../step1/" class="md-nav__link">
        Step 1 Compatible Computer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../step2/" class="md-nav__link">
        Step 2 Compatible iPhone/iPod touch
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../step3/" class="md-nav__link">
        Step 3 Compatible Pump
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../step4/" class="md-nav__link">
        Step 4 Compatible CGM
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../step5/" class="md-nav__link">
        Step 5 Order a RileyLink
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../step6/" class="md-nav__link">
        Step 6 Enroll in Apple Developer Program
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../step8/" class="md-nav__link">
        Step 8 Download Xcode
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../step9/" class="md-nav__link">
        Step 9 Xcode Preferences
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../step10/" class="md-nav__link">
        Step 10 Test Settings
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../step11/" class="md-nav__link">
        Step 11 Make plans for Loop Data
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../step12/" class="md-nav__link">
        Step 12 Meet Community
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../step13/" class="md-nav__link">
        Step 13 Download Loop code
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Step 14 Build Loop app
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Step 14 Build Loop app
      </a>
      
        


  

<nav class="md-nav md-nav--secondary" aria-label="Headers on this Page">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Headers on this Page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#build-loop-app-summary" class="md-nav__link">
    Build Loop App Summary
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#build-select-script" class="md-nav__link">
    Build Select Script
  </a>
  
    <nav class="md-nav" aria-label="Build Select Script">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#download-was-successful" class="md-nav__link">
    Download was Successful
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prepare-to-build" class="md-nav__link">
    Prepare to Build
  </a>
  
    <nav class="md-nav" aria-label="Prepare to Build">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#summary-of-steps" class="md-nav__link">
    Summary of Steps
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#build-loop" class="md-nav__link">
    Build Loop
  </a>
  
    <nav class="md-nav" aria-label="Build Loop">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#build-finished" class="md-nav__link">
    Build Finished
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#build-succeeded" class="md-nav__link">
    Build Succeeded
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#build-failed" class="md-nav__link">
    Build Failed
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    Summary
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#next-steps" class="md-nav__link">
    Next Steps
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#important-safety-reminder" class="md-nav__link">
    IMPORTANT SAFETY REMINDER
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../build_errors/" class="md-nav__link">
        Oh dear! Build errors?
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../code_customization/" class="md-nav__link">
        Customize your Loop
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../updating/" class="md-nav__link">
        Updating/Rebuilding your Loop
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../loopworkspace/" class="md-nav__link">
        LoopWorkspace
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Set Up App
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Set Up App" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Set Up App
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../operation/overview/" class="md-nav__link">
        Set Up Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../health/" class="md-nav__link">
        Step 1: Health Permissions
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_3" type="checkbox" id="__nav_3_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_3">
          Step 2: Add Pump
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Step 2: Add Pump" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_3">
          <span class="md-nav__icon md-icon"></span>
          Step 2: Add Pump
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../operation/loop-settings/mdt-pump/" class="md-nav__link">
        Add Medtronic
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../operation/loop-settings/omnipod-pump/" class="md-nav__link">
        Add Omnipod
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../operation/loop-settings/cgm/" class="md-nav__link">
        Step 3: Add CGM
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../operation/loop-settings/configurations/" class="md-nav__link">
        Step 4: Configurations
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../operation/loop-settings/services/" class="md-nav__link">
        Step 5: Loop Services
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../operation/loop-settings/displays/" class="md-nav__link">
        Loop Displays
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../operation/loop-settings/rileylink/" class="md-nav__link">
        RileyLink Display
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Operate
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Operate" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Operate
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../operation/loop/open-loop/" class="md-nav__link">
        Open Loop
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../operation/loop/close-loop/" class="md-nav__link">
        Closed Loop
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../operation/features/carbs/" class="md-nav__link">
        Meal Entries
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../operation/features/bolus/" class="md-nav__link">
        Bolus
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../operation/features/workout/" class="md-nav__link">
        Overrides
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../operation/loop-settings/pump-commands/" class="md-nav__link">
        Pump Settings
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_7" type="checkbox" id="__nav_4_7" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_7">
          How to Use Loop App
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="How to Use Loop App" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_7">
          <span class="md-nav__icon md-icon"></span>
          How to Use Loop App
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../operation/features/premeal/" class="md-nav__link">
        Pre-meal target
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../operation/features/healthapp/" class="md-nav__link">
        Health app
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../operation/features/ice/" class="md-nav__link">
        Using ICE info
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../operation/features/watch/" class="md-nav__link">
        Apple Watch
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../operation/features/widget/" class="md-nav__link">
        iPhone widget
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../operation/features/notifications/" class="md-nav__link">
        Loop Notifications
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../operation/features/battery/" class="md-nav__link">
        Pump Battery
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../operation/loop/looptips/" class="md-nav__link">
        Loop Tips
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_9" type="checkbox" id="__nav_4_9" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_9">
          Algorithm
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Algorithm" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_9">
          <span class="md-nav__icon md-icon"></span>
          Algorithm
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../operation/algorithm/overview/" class="md-nav__link">
        Algorithm Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../operation/algorithm/bolus/" class="md-nav__link">
        Bolus Recommendations
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../operation/algorithm/prediction/" class="md-nav__link">
        Glucose Prediction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../operation/algorithm/temp-basal/" class="md-nav__link">
        Temp Basal Adjustments
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          Troubleshoot
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Troubleshoot" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Troubleshoot
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../troubleshooting/overview/" class="md-nav__link">
        Troubleshooting Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../troubleshooting/loop-crashing/" class="md-nav__link">
        Loop App crashes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../troubleshooting/yellow-red-loop/" class="md-nav__link">
        Red Loop
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../troubleshooting/pod-pairing/" class="md-nav__link">
        Pod Pairing Failures
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../troubleshooting/time-change/" class="md-nav__link">
        Time Changes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../troubleshooting/pump-errors/" class="md-nav__link">
        MDT Pump Errors
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../troubleshooting/omnipod-faults/" class="md-nav__link">
        Omnipod Faults
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          Loop 3
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Loop 3" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Loop 3
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../loop-3/loop-3-overview/" class="md-nav__link">
        Loop 3 Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../loop-3/onboarding/" class="md-nav__link">
        Loop 3 Onboarding
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../loop-3/loop-3-therapy/" class="md-nav__link">
        Loop 3 Therapy Settings
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../loop-3/loop-3-settings/" class="md-nav__link">
        Loop 3 Settings
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../loop-3/loop-3-cgm/" class="md-nav__link">
        Loop 3 Add CGM
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../loop-3/loop-3-pump/" class="md-nav__link">
        Loop 3 Add Pump
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../loop-3/loop-3-displays/" class="md-nav__link">
        Loop 3 Displays
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../loop-3/loop-3-omnipod/" class="md-nav__link">
        Loop 3 Omnipod
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../loop-3/loop-3-features/" class="md-nav__link">
        Loop 3 Features
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" >
      
      
      
      
        <label class="md-nav__link" for="__nav_7">
          Nightscout
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Nightscout" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Nightscout
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../nightscout/overview/" class="md-nav__link">
        Nightscout Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../nightscout/new_user/" class="md-nav__link">
        Brand New NS
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../nightscout/update_user/" class="md-nav__link">
        Retrofit Existing NS
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../nightscout/troublehoot/" class="md-nav__link">
        Setup Troubleshooting
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../nightscout/remote-overrides/" class="md-nav__link">
        Remote Overrides
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../nightscout/ns_crossref/" class="md-nav__link">
        Nightscout Cross Ref
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8" type="checkbox" id="__nav_8" >
      
      
      
      
        <label class="md-nav__link" for="__nav_8">
          FAQs
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="FAQs" data-md-level="1">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          FAQs
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../faqs/docs-faqs/" class="md-nav__link">
        Using This Site FAQs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../faqs/FAQs/" class="md-nav__link">
        General Loop FAQs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../faqs/omnipod-faqs/" class="md-nav__link">
        Omnipod FAQs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../faqs/release-faqs/" class="md-nav__link">
        Loop Releases
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../faqs/branch-faqs/" class="md-nav__link">
        Loop Development
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../faqs/dev-menus/" class="md-nav__link">
        Loop dev Preview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../faqs/update-faqs/" class="md-nav__link">
        Update/Rebuild Loop FAQs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../faqs/rileylink-faqs/" class="md-nav__link">
        RileyLink FAQs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../faqs/algorithm-faqs/" class="md-nav__link">
        Algorithm FAQs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../faqs/cgm-faqs/" class="md-nav__link">
        CGM FAQs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../faqs/safety-faqs/" class="md-nav__link">
        Safety Tips
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  

<nav class="md-nav md-nav--secondary" aria-label="Headers on this Page">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Headers on this Page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#build-loop-app-summary" class="md-nav__link">
    Build Loop App Summary
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#build-select-script" class="md-nav__link">
    Build Select Script
  </a>
  
    <nav class="md-nav" aria-label="Build Select Script">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#download-was-successful" class="md-nav__link">
    Download was Successful
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prepare-to-build" class="md-nav__link">
    Prepare to Build
  </a>
  
    <nav class="md-nav" aria-label="Prepare to Build">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#summary-of-steps" class="md-nav__link">
    Summary of Steps
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#build-loop" class="md-nav__link">
    Build Loop
  </a>
  
    <nav class="md-nav" aria-label="Build Loop">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#build-finished" class="md-nav__link">
    Build Finished
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#build-succeeded" class="md-nav__link">
    Build Succeeded
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#build-failed" class="md-nav__link">
    Build Failed
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    Summary
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#next-steps" class="md-nav__link">
    Next Steps
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#important-safety-reminder" class="md-nav__link">
    IMPORTANT SAFETY REMINDER
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="step-14-build-loop-app">Step 14: Build Loop App<a class="headerlink" href="#step-14-build-loop-app" title="Anchor link to this Header on this Page">&para;</a></h1>
<h2 id="build-loop-app-summary">Build Loop App Summary<a class="headerlink" href="#build-loop-app-summary" title="Anchor link to this Header on this Page">&para;</a></h2>
<div class="admonition info">
<p class="admonition-title">Time Estimate</p>
<ul>
<li>60-80 minutes for first time builders</li>
<li>10-15 minutes for a repeat builders</li>
</ul>
</div>
<div class="admonition abstract">
<p class="admonition-title">Summary</p>
<ul>
<li>First Time Builders - if you have not completed <a href="../overview/">all the previous build steps</a>, do them now and then return</li>
<li>Repeat Builders - please start with the <a href="../updating/">Updating page</a>, then return</li>
<li>Some steps are needed only for <strong>First Time</strong> with this phone or this computer</li>
<li>It is now time to build your app<ul>
<li>Open terminal and copy/paste commands into it</li>
<li>Connect the phone to the computer</li>
<li><strong>First Time:</strong> Trust the computer</li>
<li>Select Loop (Workspace) and your phone at top of Xcode</li>
<li><strong>First Time:</strong> Register the phone</li>
<li>Sign the targets<ul>
<li>Then click on a specific location with your mouse</li>
<li>This is new with Xcode 13 - avoids an annoying build error</li>
</ul>
</li>
<li>Press the build button<ul>
<li><strong>First Time:</strong> <a href="#codesign-keychain-access">Enter computer password as often as it asks - typically four times</a> during the build</li>
<li>Watch in awe as you just built your very own Loop app</li>
</ul>
</li>
</ul>
</li>
<li>Open whatever calendar you like to use and insert a reminder<ul>
<li>The app will expire in 7 days or 1 year</li>
<li>Add an alert with enough time (3 weeks) before expiration to prepare to rebuild</li>
</ul>
</li>
</ul>
</div>
<div class="admonition question">
<p class="admonition-title">FAQs</p>
<ul>
<li><strong>"The download seems to take a long time; is that normal?"</strong> Yes. The download of the Loop submodule takes the longest. Having a good internet connection is important. (The word submodule gets discussed later.)</li>
<li><strong>"The build seems to take a long time; is that normal?"</strong> Yes. It is not unusual for one of the build steps to take <em>much</em> longer than all the others and the number of building steps increases as it builds.<ul>
<li>The build process always ends with either a "Build Succeeded" or "Build Failed" message; so just wait it out until you see one of those displayed.</li>
<li>If you are away from you computer when the build succeeds, you might miss the "Build Succeeded" message, but you will see "Running Loop on &lt;your phone name>" at the very top of the Xcode window - and the Loop app will be open on your phone.</li>
<li>The final step of a successful build is for Xcode to copy the completed build to your iPhone; if your phone is locked, Xcode pops up a message letting you know.  Unlock your phone to continue.</li>
<li>Ingore the yellow warnings - do not try to "fix" them</li>
</ul>
</li>
<li><strong>"I got a build succeeded but it's not on my phone; what do I do?"</strong> Make sure you selected your phone (near the top of the list), not a simulator with the same model and iOS as your phone. You are less likely to make this mistake if you modify the name displayed on your phone.</li>
<li><strong>"I got a build error! YIKES...what do I do?"</strong> Check out the <a href="../build_errors/">Build Errors</a> page for solutions.</li>
</ul>
</div>
<h2 id="build-select-script">Build Select Script<a class="headerlink" href="#build-select-script" title="Anchor link to this Header on this Page">&para;</a></h2>
<p>The build procedure uses a script to make it easier to download and build the app.  This script supports the current version of <a href="../../faqs/release-faqs/#current-release">Loop master</a>.</p>
<div class="admonition info">
<p class="admonition-title">Extra Information</p>
<p>The build select scrip, maintained by the Loop and Learn community, simplifies many of the typical tasks needed to successfully build and rebuild Loop. The directions on this page are to build Loop Master.</p>
<p>In addition, the script supports building a companion app called Loop Follow, and a commonly used fork of Loop called FreeAPS. Follow these links for more information.</p>
<ul>
<li>Information about <a href="https://github.com/jonfawcett/LoopFollow#readme">Loop Follow</a></li>
<li>Information specific to <a href="https://www.loopandlearn.org/freeapsdoc/">FreeAPS</a></li>
</ul>
</div>
<h4 id="open-terminal">Open Terminal<a class="headerlink" href="#open-terminal" title="Anchor link to this Header on this Page">&para;</a></h4>
<p>Go to the Finder app, click on Applications, then open the Utilities folder.  Locate the Terminal app and double-click Terminal to open a terminal window. (Folks with an M1 Mac computer, make sure you <a href="../step1/#configure-terminal-app-for-rosetta-on-m1-computer">configured the terminal app for rosetta</a> first. This only has to be done one time.) The terminal window is very plain looking when you open it. That is normal.</p>
<h4 id="download">Download<a class="headerlink" href="#download" title="Anchor link to this Header on this Page">&para;</a></h4>
<div class="admonition success">
<p class="admonition-title">Video using Build-Select</p>
<p>If you prefer to watch a video of downloading and building with the build-select script, this <a href="https://youtu.be/gddhljzsNkM">YouTube video</a>, prepared by the Loop and Learn team, follows the steps on this page.</p>
</div>
<p>These instructions show each step needed to download Loop using the Build-Select script.</p>
<ul>
<li>Please read what is on the screen as you progress.</li>
<li>Adjust font size as directed if you have difficulty seeing the directions.</li>
</ul>
<p>There is a copy button located by hovering on the bottom right side of the labeled block of text below.  When you click on it, the words in the block (below the label) are copied into your paste buffer. Paste those words into the terminal and return. Read the instructions and follow them. The graphics below represent each step needed to download the code.</p>
<div class="highlight"><span class="filename">Copy and Paste to start the Build-Select script</span><pre><span></span><code>/bin/bash -c &quot;$(curl -fsSL https://raw.githubusercontent.com/loopnlearn/LoopBuildScripts/main/BuildLoop.sh)&quot;
</code></pre></div>
<div class="admonition note">
<p>If you've built using the build-select script before and think the command looks a little different, you are correct.  Copy and paste the command as shown.  This uses a more explicit path to the script.</p>
</div>
<p align="center"><img alt="paste the script line into terminal" src="../img/build-select-01.png" width="750" /></p>
<p>You must type 1 (as shown in the graphic above) and return to indicate you understand the warning.</p>
<p>Next you will see an introduction to the Build-Select script.  Please read this.  To build Loop, you will select the Build Loop option by typing 1 (as shown in the graphic below) and return.</p>
<p align="center"><img alt="choose to build Loop" src="../img/build-select-05.png" width="750" /></p>
<p>Next you are asked which version of Loop you would like to build. Type 1 and return to build Loop Master (as shown in the graphic below) or 2 for the FreeAPS fork of Loop.</p>
<p align="center"><img alt="choose which Loop to build" src="../img/build-select-06.png" width="750" /></p>
<h4 id="xcode-errors-with-build-select">XCode Errors with Build-Select<a class="headerlink" href="#xcode-errors-with-build-select" title="Anchor link to this Header on this Page">&para;</a></h4>
<div class="admonition warning">
<p class="admonition-title">WARNINGS</p>
<p>If you see errors like these . . .</p>
<ul>
<li><code>xcrun: error: invalid active developer path (/Library/Developer/CommandLineTools), missing xcrun at: /Library/Developer/CommandLineTools/usr/bin/xcrun</code></li>
<li><code>xcode-select: Failed to locate 'git', requesting installation of command line developer tools</code></li>
<li><code>xcode-select: error: tool 'xed' requires Xcode</code></li>
</ul>
<p>You missed one of these steps:</p>
<ul>
<li><a href="../step8/">Build Step 8: Install Xcode</a></li>
<li><a href="../step9/">Build Step 9: Xcode command line tools</a></li>
</ul>
</div>
<p>This download can take from 3 minutes to 30 minutes depending on your download speed.  You can leave the room and return later to check on progress. When you read the words in the terminal, as the script runs, you may see terminology you do not understand - don't worry - you do not need to understand enumeration or submodule or cloning.  You only need to review the display to look for any error messages. The first graphic shows terminal messages for the beginning of a successful download.</p>
<p align="center"><img alt="the beginning of the clone for LoopWorkspace " src="../img/build-select-07.png" width="750" /></p>
<p>The final terminal messages of a successful download are shown in the next graphic.</p>
<p align="center"><img alt="the end of LoopWorkspace download" src="../img/build-select-08.png" width="750" /></p>
<p>If any errors are shown in your terminal window, you need to read the error and hit any key (other than 1) followed by return to cancel.  You can try to fix the error and run the script one more time.  But if you continue to get errors (bad internet connection or not enough room), you should reach out for help at your favorite <a href="../..#finding-help">Loop Social Media</a> site.</p>
<h3 id="download-was-successful">Download was Successful<a class="headerlink" href="#download-was-successful" title="Anchor link to this Header on this Page">&para;</a></h3>
<p>Assuming there are no errors, then type 1 and return to Continue as shown in this graphic.</p>
<p align="center"><img alt="after confirming no build errors in the download" src="../img/build-select-10.png" width="750" /></p>
<p>The final actions of the script are to:</p>
<ul>
<li>Open Xcode using the correct folder for building the app you just downloaded</li>
<li>Open a page in your broswer that displays the <a href="#prepare-to-build"><code>Build Summary Graphic</code></a>, shown below, along with abbreviated build instructions<ul>
<li>If that webpage is not available, it is a convenience and not required</li>
</ul>
</li>
</ul>
<p>Rearrange screens so you can see the graphic and Xcode. New builders should follow the detailed steps on this page. Experienced builders can choose to follow the abbreviated build instructions instead.</p>
<h2 id="prepare-to-build">Prepare to Build<a class="headerlink" href="#prepare-to-build" title="Anchor link to this Header on this Page">&para;</a></h2>
<p align="center"><img alt="graphic for workspace build" src="../img/workspace-build-loop-from-script_annotated-3-1.svg" width="750" /></p>
<p>The <code>Build Summary Graphic</code> above is coordinated with the numbers in the Summary of Steps below. Please review the list of steps and then follow the detailed steps after the summary.</p>
<h3 id="summary-of-steps">Summary of Steps<a class="headerlink" href="#summary-of-steps" title="Anchor link to this Header on this Page">&para;</a></h3>
<p>The steps required to prepare and build are summarized with numbers matching the graphic. Then each step is discussed in detail. Take it slow, read carefully and compare your screen to the graphics.</p>
<ol>
<li>Select the Loop folder (left pane)</li>
<li>Plug in your phone; then select Loop(Workspace) and your phone</li>
<li>Click on the "Signing &amp; Capabilities" tab</li>
<li>Sign the targets<ul>
<li>New step with Xcode 13 - pay attention</li>
</ul>
</li>
<li>Press the Play button to build the app</li>
</ol>
<div class="admonition info">
<p class="admonition-title">Navigation Hints</p>
<p>In the detailed steps, there are links back to the graphic above. If you need to refer to it, hit the link to view the figure. When you click the back button on your browser, it should restore you to your previous location.</p>
</div>
<h4 id="select-the-loop-folder">Select the Loop Folder<a class="headerlink" href="#select-the-loop-folder" title="Anchor link to this Header on this Page">&para;</a></h4>
<p>Action labeled 1 in the <a href="#prepare-to-build"><code>Build Summary Graphic</code></a> above. </p>
<p>You should see a list of folders and files in the left pane of Xcode. If you do not see them, tap on the small icon of a file folder (shown highlighted in dark blue) near the top of the left pane.</p>
<p>Click on the blue icon next to the word "Loop". You might need to click a second time to highlight the Loop folder. This will populate the middle part of the Xcode window.</p>
<h4 id="connect-your-iphone-to-computer">Connect Your iPhone to Computer<a class="headerlink" href="#connect-your-iphone-to-computer" title="Anchor link to this Header on this Page">&para;</a></h4>
<p>Action labeled 2 in the <a href="#prepare-to-build"><code>Build Summary Graphic</code></a> above. </p>
<p>Plug in your phone and make sure the phone is unlocked.  If this is the <strong>First Time</strong> for your phone or watch, you will need to tell the phone and watch to "Trust this Computer".</p>
<ul>
<li>Select <strong>Loop (Workspace)</strong> from the dropdown at the upper left<ul>
<li>Examine the Step 2 Detail in the <a href="#prepare-to-build"><code>Build Summary Graphic</code></a> above</li>
<li>The selection when Xcode first opens after downloading is Loop and you need to select <strong>Loop (Workspace)</strong></li>
</ul>
</li>
<li>Select your phone (not a simulator of the same model as your phone) - it will be near the top of the dropdown list under the heading iOS Device</li>
<li>If you don't see your phone, unplug and plug in again<ul>
<li>Still don't see your phone - reboot the phone - and if that doesn't work - reboot the computer</li>
<li>Still don't see your phone - try a different cable</li>
</ul>
</li>
</ul>
<div class="admonition abstract">
<p class="admonition-title">Helpful Tips</p>
<ul>
<li>If this is the first time your iPhone has been plugged into this computer, you will need to open the iPhone and select "Trust this Computer" before your device will be useable in the menu selection.</li>
<li>If this is the first time your watch has been paired to the iPhone, you will need to select "Trust this Computer" on your watch.</li>
</ul>
</div>
<div class="admonition warning">
<p class="admonition-title">Most Common Mistake</p>
<ul>
<li>The most common mistake in this step is:<ul>
<li>not selecting Loop (Workspace) (old graphic; yours must be Workspace)</li>
<li>not selecting your actual phone as shown in the second screenshot below</li>
</ul>
</li>
<li>The default list is just a name of general phone models under a subheading called "iOS Simulators"...don't be fooled by those. Your ACTUAL phone will be up above that list of all the various simulator phone models.  You may need to scroll to the top of the list to see it.  Make sure you select your actual phone, not just a simulator phone model.</li>
</ul>
</div>
<p><em>The graphics below have not been updated to show "Loop (Workspace)".</em></p>
<p align="center"><img alt="img/select_device.png" src="../img/select_device.png" width="750" /></p>
<p align="center"><img alt="img/your_device.png" src="../img/your_device.png" width="650" /></p>
<h4 id="select-signing-capabilities-tab">Select Signing &amp; Capabilities Tab<a class="headerlink" href="#select-signing-capabilities-tab" title="Anchor link to this Header on this Page">&para;</a></h4>
<p>Action labeled 3 in the <a href="#prepare-to-build"><code>Build Summary Graphic</code></a> above. </p>
<p>In the middle pane of the Xcode window, click on the tab labeled <code>Signing &amp; Capabilities</code>. (When Xcode first opens following a fresh download, the default is the <code>General</code> tab.)</p>
<p>There are some highlighted items at the top of the Signing &amp; Capabilities pane that say: <code>All</code>, <code>Debug</code> and <code>Release</code>.  The <code>All</code> button should be highlighted.  If either the <code>Debug</code> or <code>Release</code> button is highlighted, you will get an error when you try to build.</p>
<h4 id="free-account">Free Account<a class="headerlink" href="#free-account" title="Anchor link to this Header on this Page">&para;</a></h4>
<p>If you are using a paid account, skip this section - head to <a href="#sign-the-targets">Sign the Targets</a>  These steps are only required for those building with the Free Account.</p>
<p><em>The graphics in this section have not been updated to show "Loop (Workspace)".</em></p>
<p><em>The graphics in this section have not been updated for Xcode 13, which uses the trashcan icon instead of the x for removing capabilities.</em></p>
<p><em>If you are using a free account to build Loop-dev, review this section and then <a href="../step13/#loop-dev-with-free-account">Loop-dev with Free Account</a></em></p>
<div class="admonition abstract">
<p class="admonition-title">Free Developer Account Users: READ ME</p>
<p>If you are using a free developer account, you will need to do an extra step before you can successfully sign the targets. As a free developer, you are restricted from building apps that have Siri or push notification capabilities built-in. Loop has both of these capabilities, so you will need to disable them before signing and building your app.</p>
<p>The push notification capability is used for setting remote overrides; disabling it will not affect other notifications on the Loop phone, e.g., "Loop Failure", "Pump Reservoir Low", etc. Click on the small x next to the Siri and push notification lines located at the bottom of the Signing &amp; Capabilities box. You need to do this in both the Loop and WatchApp Extension targets.</p>
<p>Note that this graphic shows <code>Debug</code> selected in the Signing &amp; Capabilities pane. This is not correct - make sure that <code>All</code> is selected instead.</p>
<p align="center"><img alt="img/siri-errors.png" src="../img/siri-errors.png" width="750" /></p>
</div>
<h4 id="sign-the-targets">Sign the Targets<a class="headerlink" href="#sign-the-targets" title="Anchor link to this Header on this Page">&para;</a></h4>
<p>Actions labeled 4 and 4.5 in the <a href="#prepare-to-build"><code>Build Summary Graphic</code></a> above.</p>
<p>It is time to Sign the Targets with your <a href="../step9/#add-apple-id">Apple Developer ID</a></p>
<p>Once you select your device (your iPhone's name), you are ready to start signing the targets. Start with the Loop target, the first one on the target list.  Under the "Signing" area, ensure that you have <code>All</code> selected near the top and then select the dropdown menu where it currently says "none". Choose the team you'd like to sign with. Make sure you keep the "automatically manage signing" box checked in the signing area.</p>
<ul>
<li>If you do not have <code>All</code> selected near the top (indicated by the red box in the graphic below), your targets won't get signed properly.  Make sure you did not accidentally click on <code>Debug</code> or <code>Release</code>.</li>
<li>If you select a team name with (personal team), your app will expire after 7 days and you must disable <a href="./#free-account">Push Notification and Siri</a> as mentioned above.</li>
<li>If you select a team name without (personal team), your app will last a full year.  </li>
<li>If you never signed up for a <a href="../step9/#add-apple-id">Free Developer Account</a>, you will not have a (personal team) showing.</li>
</ul>
<p><em>The graphics in this section have not been updated to show "Loop (Workspace)".</em></p>
<p align="center"><img alt="img/team.png" src="../img/team.png" width="750" /></p>
<p>Once you choose your signing team, Xcode will automatically generate provisioning profiles and signing certificates.  If this is the first time you are building on this iPhone with this developer account, you may be prompted to register the device.  Simply click on the "Register Device" button to confirm. Note - you <strong>must</strong> be connected to the Internet for this step because your computer needs to communicate with Apple to register that device. (Sharp-eyed users may notice this Xcode screen looks a little different from the one on your Mac - it's from an older version of Xcode and the graphic was not updated because the relevant information refers to registering your phone.  Don't sweat it if your screen looks a little different from some of the graphics.)</p>
<p align="center"><img alt="img/register_device.png" src="../img/register_device.png" width="750" /></p>
<p>A successfully signed target will have a provisioning profile and signing certificate similar to the screenshot below.  Click on each of the three remaining targets shown in the red box below, and repeat the signing steps by choosing the same team name as you selected in the first target. The four targets that must be signed prior to building the Loop app are Loop, Loop Status Extension, Watch App, and WatchApp Extension.</p>
<p align="center"><img alt="Xcode window showing the four targets that must be signed" src="../img/success.png" width="750" /></p>
<ul>
<li>For <a href="#free-account">Free Account</a> - you must take additional steps before signing</li>
<li>ONLY sign the 4 targets highlighted in the <code>Build Summary Graphic</code> above<ul>
<li>If you sign other targets you might generate errors when you build and they do NOT need to be signed</li>
</ul>
</li>
<li>After signing all 4 targets, click on the Loop icon under the <code>PROJECTS</code> heading</li>
</ul>
<div class="admonition warning">
<p class="admonition-title">New Step for Xcode 13</p>
<p>There is a new step highlighted in red and green labeled 4.5 in the <a href="#prepare-to-build"><code>Build Summary Graphic</code></a> above.  Be sure to click on the Loop icon under the <code>PROJECT</code> heading BEFORE hitting build.  Otherwise - you may get an "Entitlements" Build Error for either Loop or WatchApp and will need this procedure <a href="../build_errors/#entitlements-error">Entitlements Error</a>.</p>
</div>
<div class="admonition abstract">
<p class="admonition-title">Advanced Users Only</p>
<p>There are <a href="../step13/#signing-targets">more targets</a> which must be signed to build the dev branch.</p>
<p>If you read the hint in <a href="../step13/#signing-targets">Step 13</a> and edited the LoopConfigOverride.xcconfig, your targets are already signed.</p>
<ul>
<li><strong>Repeat: only build the dev branch if you're a developer/advanced user</strong></li>
</ul>
</div>
<h4 id="code-customizations">Code Customizations<a class="headerlink" href="#code-customizations" title="Anchor link to this Header on this Page">&para;</a></h4>
<p><strong>New Loop users</strong>: Customizations are not a required part of any Loop build. As you gain experience using your Loop app, you may want to customize some of the features. First time builders are encouraged to build with the standard, default code. You can always update your Loop app to add customizations at a later time, using the same download. Subsequent build time is much faster than the initial build for a given download.</p>
<p>If you want any custom configurations to your Loop or Loop Apple Watch apps, follow the step-by-step instructions on the <a href="../code_customization/">Code Customizations</a> page prior to pressing the Build button.</p>
<p>When you've finished your customizations, come on back to this section and continue with the rest of the build.</p>
<h4 id="pair-your-apple-watch">Pair Your Apple Watch<a class="headerlink" href="#pair-your-apple-watch" title="Anchor link to this Header on this Page">&para;</a></h4>
<p><strong>New Apple Watch users</strong>: If you have an unopened Apple watch and want to use it with Loop, first pair the watch with the iPhone before continuing to the next steps.  If you get a new watch after building the Loop app, you'll need to redo your Loop build. (Don't worry, it's as easy as pressing play on your saved Loop project.)</p>
<p><strong>Existing Apple Watch users</strong>: Please update your watchOS prior to building the Loop app.  The current version of Loop requires watchOS 4.1 or newer.</p>
<h2 id="build-loop">Build Loop<a class="headerlink" href="#build-loop" title="Anchor link to this Header on this Page">&para;</a></h2>
<p>Confirm that you are ready to build Loop:</p>
<ul>
<li>Is your iPhone unlocked and plugged into the computer?</li>
<li>Have you signed the four targets?</li>
<li>Have you clicked on the Loop icon under the <code>PROJECTS</code> heading?</li>
<li>Have you selected Loop (Workspace)?</li>
<li>Have you selected your phone and not a simulator?</li>
<li>OPTIONAL: Is you <a href="#pair-your-apple-watch">Apple watch</a> paired and updated?</li>
<li>OPTIONAL: Are you done with desired <a href="#code-customizations">customizations</a>?</li>
</ul>
<p>It is time to press the “Build” (Play) button to start Xcode on its way.</p>
<p><em>The graphics in this section have not been updated to show "Loop (Workspace)".</em></p>
<div class="admonition info">
<p class="admonition-title">Helpful Tips</p>
<p>The final step of a successful build is for Xcode to copy the completed build to your iPhone; if your phone is locked, Xcode pops up a message letting you know.  Unlock your phone to continue.</p>
</div>
<p align="center"><img alt="img/build_button.png" src="../img/build_button.png" width="750" /></p>
<p>You’ll see the progression of the build in the status window (top middle of Xcode). New builds can take 5-30 minutes, depending on the speed of the computer.  <strong>Just be patient.</strong>  The progress will stay on one step/task for a very long time, and then the others will fly by. Not every step is equal in duration. Do not give up on the build.</p>
<p><strong>Xcode will ALWAYS tell you eventually that the build either succeeded or failed via an ephemeral (self-disappearing) pop-up message on the computer display. If you miss the message, you can look at the top of the Xcode window to see a "Running Loop..." (success) or "Unlock Phone to Continue" or "Build Failed" (failure) message where the step progress was previously counting down.</strong></p>
<h4 id="codesign-keychain-access">Codesign / Keychain Access<a class="headerlink" href="#codesign-keychain-access" title="Anchor link to this Header on this Page">&para;</a></h4>
<div class="admonition abstract">
<p class="admonition-title">First Time Builder or First Time on this Computer</p>
<p>Sometime during your first build on a computer, be ready for a codesign/keychain access prompt that you will see part-way through the build process.</p>
<p>Enter the same password you use to log in to the mac, select always allow and then do it again next time you are asked - once for each target you just signed above.</p>
<p align="center"><img alt="img/keychain-prompt.png" src="../img/keychain-prompt.png" width="350" /></p>
<p>It is normal for this prompt to come up four times in a row even after you enter the correct password. In frustration, people think the prompt must be broken because it keeps reappearing and then people will press deny or cancel. <strong>Don't press deny.</strong> Keep entering your computer password and pressing the "Always Allow" button as many times as it takes (four times to be exact; one for each target in Xcode). After four times of successful password entry, the build will continue.</p>
</div>
<h3 id="build-finished">Build Finished<a class="headerlink" href="#build-finished" title="Anchor link to this Header on this Page">&para;</a></h3>
<div class="admonition abstract">
<p class="admonition-title">First Time Building on a New Device?</p>
<p>If this is the first time you have installed an app on your iPhone using your developer account, you may get a warning like the one shown below after a successful build. Don't worry, Loop usually installed just fine on the phone but needs you to do an extra step on the phone before the Loop app can open. Just follow the directions shown in the warning for what you need to do on your iPhone. Go to Settings-&gt;General-&gt;Device Management (or profiles, Profiles &amp; Device Management on newer iOS) and enable trust for your Developer Account. If you are missing the Device Management/Profiles option in your iPhone settings, then head over to <a href="../build_errors/#device-management-could-not-launch-loop">this Build Error section</a> to find the solution.</p>
<p align="center"><img alt="img/trust_device.jpg" src="../img/trust_device.jpg" width="750" /></p>
</div>
<h3 id="build-succeeded">Build Succeeded<a class="headerlink" href="#build-succeeded" title="Anchor link to this Header on this Page">&para;</a></h3>
<div class="admonition success">
<p class="admonition-title">Congratulations</p>
<p>If the build is successful, you'll see the message "Running Loop..." across the top of the Xcode window. Pick up your phone and look at it.</p>
<p>You can unplug your phone from the computer now. You will get an Xcode message window that says "Lost connection to the debugger on &lt;your phone name>".  Just click OK.</p>
<p>Your brand new Loop app will automatically open a screen asking you to allow Loop to send you notifications. The Health app permissions screen will be visible in the background, but you must answer the Notification request first. Click <code>Allow</code> to enable Loop to send you notifications.</p>
<p>Now the Health permissions screen is active. Click on the <code>Turn All Categories On</code> line and then <strong>immediately turn OFF the permission to read Carbohydrates</strong>. The end result is that Health should have permission to read and write Blood Glucose and Insulin Delivery; permission to write Carbohydrates (<a href="../health/#loop-permissions">NOT read carbs</a>); and permission to read Sleep Data. When the permissions are set correctly, i.e., match the image below, click <code>Allow</code> in the upper right corner.</p>
<p align="center"><img alt="img/health-start.JPEG" src="../img/health-start.svg" width="450" /></p>
<p>Next, you will use the <a href="../../operation/overview/">Set up App</a> section of this website to keep proceeding safely.</p>
</div>
<div class="admonition question">
<p class="admonition-title">FAQ: But what about those yellow alerts that remain in Xcode? Should I worry about them?</p>
<p>If you see yellow alerts after your build is done...those are not an issue. Whether your build succeeded or failed...the yellow warnings play no role in either outcome. Don't try to resolve them or fret about them. They mean nothing to the successful use of your Loop app.</p>
<p align="center"><img alt="img/yellow-warnings.png" src="../img/yellow-warnings.png" width="750" /></p>
</div>
<h3 id="build-failed">Build Failed<a class="headerlink" href="#build-failed" title="Anchor link to this Header on this Page">&para;</a></h3>
<div class="admonition warning">
<p class="admonition-title">Breaking News for Xcode 13</p>
<p>There is a new error for Xcode 13, "WatchApp Extension.entitlements" or "Loop.entitlements" depending on which icon you left highlighted when signing targets.  (We checked many combinations - if you follow the instructions to highlight the Loop icon below <code>PROJECTS</code>, you won't get the error.) If you do see that error, follow this link: <a href="../build_errors/#entitlements-error">Entitlements Error</a> for an easy fix.</p>
</div>
<p>If you get any other message that your build failed and see <strong>RED ERROR</strong> messages, go to the <a href="../build_errors/">Build Errors</a> page to find the steps to fix your build error. Most build errors are covered on that page along with instructions on how to fix them and how to ask for help.</p>
<p>Once you've resolved the issue and start the build process again, Xcode will continue to show a red circle on the top line from the previous failure.  If you don't like seeing that, clean the build folder to clear the error.  Otherwise, as long as the steps of the build are showing across the top line, Xcode is still working on the build.  When the build succeeds, the red circle will disappear.</p>
<div class="admonition abstract">
<p class="admonition-title">Clean Build Folder</p>
<ul>
<li>In Xcode menu, select Product, then Clean Build Folder</li>
<li>Wait for cleaning to complete: you'll see a "Clean Finished" message</li>
</ul>
</div>
<p align="center"><img alt="img/general-error.jpg" src="../img/general-error.jpg" width="750" /></p>
<h3 id="summary">Summary<a class="headerlink" href="#summary" title="Anchor link to this Header on this Page">&para;</a></h3>
<p>If your build failed, you need to proceed to the <a href="../build_errors/">Build Errors</a> page to find the solution. Please go there first to find the help you need.</p>
<p>If your build was successful but your phone was locked, you will see an Xcode message window that says "Unlock &lt;your phone name> to Continue". Simply unlock your phone and the app will be copied onto your phone and automatically open.</p>
<p>If there were no build errors, you're done building your Loop app.</p>
<p>If your phone is still plugged into you computer, you can unplug it. You will get an Xcode message window that says "Lost connection to the debugger on &lt;your phone name>".  Just click OK.</p>
<p>The next step is the begin the <a href="../../operation/overview/">Set up App</a> process.</p>
<p><img alt="alt" src="https://media.giphy.com/media/l0MYt5jPR6QX5pnqM/giphy.gif" /></p>
<h2 id="next-steps">Next Steps<a class="headerlink" href="#next-steps" title="Anchor link to this Header on this Page">&para;</a></h2>
<div class="admonition info">
<p class="admonition-title">Add a Calendar Reminder</p>
<ul>
<li>It is good practice to add a reminder to your calendar when the app will expire (7 days or 1 year).</li>
<li>Be sure to add an alert to that reminder so you have enough time to do all the <a href="../updating/">Loop Updating</a> steps to build the app again before it expires</li>
</ul>
</div>
<h2 id="important-safety-reminder">IMPORTANT SAFETY REMINDER<a class="headerlink" href="#important-safety-reminder" title="Anchor link to this Header on this Page">&para;</a></h2>
<p><strong>DO THE STEPS BELOW</strong></p>
<p><strong>STAY IN OPEN LOOP UNTIL YOU UNDERSTAND THE SYSTEM</strong></p>
<p>Go to the <a href="../../operation/overview/">Set up App</a> menu to configure your Loop and follow that up with the first <a href="../../operation/loop/open-loop/">Operate</a> page and work those pages as you learn to run Loop safely.</p>
                
              
              
                


              
            </article>
          </div>
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" data-md-state="hidden">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"/></svg>
            Back to top
          </a>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../step13/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Step 13 Download Loop code" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Step 13 Download Loop code
            </div>
          </div>
        </a>
      
      
        
        <a href="../build_errors/" class="md-footer__link md-footer__link--next" aria-label="Next: Oh dear! Build errors?" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Oh dear! Build errors?
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        
          Made with
          <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
            Material for MkDocs
          </a>
        
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.tracking", "navigation.top", "search.suggest", "search.highlight", "content.code.annotate"], "search": "../../assets/javascripts/workers/search.fcfe8b6d.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.b1047164.min.js"></script>
      
    
  </body>
</html>