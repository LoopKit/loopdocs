
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../../version/releases/">
      
      
        <link rel="next" href="../../gh-actions/gh-customize/">
      
      <link rel="icon" href="../../loop-logo.png">
      <meta name="generator" content="mkdocs-1.4.3, mkdocs-material-9.1.13">
    
    
      
        <title>Code Customization - LoopDocs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.85bb2934.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.a6bdf11c.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
      <link rel="stylesheet" href="../../stylesheets/primary-color.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="indigo">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#build-then-customize" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="LoopDocs" class="md-header__button md-logo" aria-label="LoopDocs" data-md-component="logo">
      
  <img src="../../loop-logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            LoopDocs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Code Customization
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
          
            
            
            
            <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
            
              <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
              </label>
            
          
            
            
            
            <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="custom" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
            
              <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
              </label>
            
          
        </form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../.." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../intro/overview-intro/" class="md-tabs__link">
        Intro
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../gh-actions/gh-overview/" class="md-tabs__link">
        Build with Browser
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../overview/" class="md-tabs__link">
        Mac-Xcode Build
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../loop-3/loop-3-overview/" class="md-tabs__link">
        Set Up
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../operation/loop/open-loop/" class="md-tabs__link">
        Operate
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../troubleshooting/overview/" class="md-tabs__link">
        Troubleshoot
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../version/overview-version/" class="md-tabs__link md-tabs__link--active">
        Version
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../nightscout/overview/" class="md-tabs__link">
        Nightscout
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../faqs/overview-faqs/" class="md-tabs__link">
        FAQs
      </a>
    </li>
  

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../translate/" class="md-tabs__link">
      Translation
    </a>
  </li>

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="LoopDocs" class="md-nav__button md-logo" aria-label="LoopDocs" data-md-component="logo">
      
  <img src="../../loop-logo.png" alt="logo">

    </a>
    LoopDocs
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
      
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          Intro
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Intro
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../intro/overview-intro/" class="md-nav__link">
        LoopDocs Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../intro/loopdocs-how-to/" class="md-nav__link">
        LoopDocs How-to
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../intro/requirements/" class="md-nav__link">
        Requirements
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../phone/" class="md-nav__link">
        Compatible iPhone
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../pump/" class="md-nav__link">
        Compatible Pump
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cgm/" class="md-nav__link">
        Compatible CGM
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../rileylink/" class="md-nav__link">
        RileyLink
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../apple-developer/" class="md-nav__link">
        Apple Developer Program
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../test-settings/" class="md-nav__link">
        Test Settings
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../loop-data/" class="md-nav__link">
        Loop Data
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../community/" class="md-nav__link">
        Meet the Community
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
      
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          Build with Browser
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Build with Browser
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../gh-actions/gh-overview/" class="md-nav__link">
        Build with Browser Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../gh-actions/gh-first-time/" class="md-nav__link">
        Configure to use Browser
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../gh-actions/gh-deploy/" class="md-nav__link">
        Install on Phone
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../gh-actions/gh-update/" class="md-nav__link">
        Update with Browser
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../gh-actions/gh-errors/" class="md-nav__link">
        Errors with Browser
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../gh-actions/gh-other-apps/" class="md-nav__link">
        Build Other Apps with Browser
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
      
      
      
        <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
          Mac-Xcode Build
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Mac-Xcode Build
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../overview/" class="md-nav__link">
        Mac-Xcode Build Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../computer/" class="md-nav__link">
        Compatible Computer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../xcode-version/" class="md-nav__link">
        Xcode Version
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../xcode-settings/" class="md-nav__link">
        Xcode Preferences
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../build-app/" class="md-nav__link">
        Build Loop
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../build-errors/" class="md-nav__link">
        Oh dear! Build errors?
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../updating/" class="md-nav__link">
        Updating/Rebuilding
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../build-free-loop/" class="md-nav__link">
        Build Free Loop
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../testflight-xcode/" class="md-nav__link">
        TestFlight from Xcode
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
      
      
      
        <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
          Set Up
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Set Up
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../loop-3/loop-3-overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../loop-3/onboarding/" class="md-nav__link">
        Onboarding
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../loop-3/add-cgm/" class="md-nav__link">
        Add CGM
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../loop-3/add-pump/" class="md-nav__link">
        Add Pump
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../loop-3/settings/" class="md-nav__link">
        Settings
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../loop-3/therapy-settings/" class="md-nav__link">
        Therapy Settings
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../loop-3/services/" class="md-nav__link">
        Optional: Services
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../loop-3/displays-v3/" class="md-nav__link">
        Displays
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../operation/loop-settings/rileylink/" class="md-nav__link">
        RileyLink Display
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../loop-3/omnipod/" class="md-nav__link">
        Omnipod Pump
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../loop-3/medtronic/" class="md-nav__link">
        Medtronic Pump
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../loop-3/features/" class="md-nav__link">
        Features
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_13" >
      
      
      
        <label class="md-nav__link" for="__nav_5_13" id="__nav_5_13_label" tabindex="0">
          Loop 2: Set Up App
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_13_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5_13">
          <span class="md-nav__icon md-icon"></span>
          Loop 2: Set Up App
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../operation/overview/" class="md-nav__link">
        Loop 2 Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../health/" class="md-nav__link">
        Loop 2 Health Permissions
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_13_3" >
      
      
      
        <label class="md-nav__link" for="__nav_5_13_3" id="__nav_5_13_3_label" tabindex="0">
          Loop 2 Add Pump
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_13_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5_13_3">
          <span class="md-nav__icon md-icon"></span>
          Loop 2 Add Pump
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../operation/loop-settings/mdt-pump/" class="md-nav__link">
        Loop 2 Add Medtronic
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../operation/loop-settings/omnipod-pump/" class="md-nav__link">
        Loop 2 Add Omnipod
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../operation/loop-settings/cgm/" class="md-nav__link">
        Loop 2 Add CGM
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../operation/loop-settings/configurations/" class="md-nav__link">
        Loop 2 Configuration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../operation/loop-settings/services-v2/" class="md-nav__link">
        Loop 2 Services
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../operation/loop-settings/displays/" class="md-nav__link">
        Loop 2 Displays
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../operation/loop-settings/pump-commands/" class="md-nav__link">
        Loop 2 Pump Settings
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
      
      
      
        <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
          Operate
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Operate
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../operation/loop/open-loop/" class="md-nav__link">
        Open Loop
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../operation/loop/close-loop/" class="md-nav__link">
        Closed Loop
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../operation/features/carbs/" class="md-nav__link">
        Meal Entries
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../operation/features/bolus/" class="md-nav__link">
        Bolus
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../operation/features/overrides/" class="md-nav__link">
        Overrides
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../operation/features/watch/" class="md-nav__link">
        Apple Watch
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../operation/features/notifications/" class="md-nav__link">
        Loop Notifications
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../operation/features/premeal/" class="md-nav__link">
        Pre-Meal Target
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../operation/features/ice/" class="md-nav__link">
        Meal Review
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../operation/features/widget/" class="md-nav__link">
        iPhone Widget
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../operation/loop/looptips/" class="md-nav__link">
        Loop Tips
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_12" >
      
      
      
        <label class="md-nav__link" for="__nav_6_12" id="__nav_6_12_label" tabindex="0">
          Algorithm
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_12_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6_12">
          <span class="md-nav__icon md-icon"></span>
          Algorithm
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../operation/algorithm/overview/" class="md-nav__link">
        Algorithm Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../operation/algorithm/bolus/" class="md-nav__link">
        Bolus Recommendations
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../operation/algorithm/prediction/" class="md-nav__link">
        Glucose Prediction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../operation/algorithm/temp-basal/" class="md-nav__link">
        Automated Adjustments
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
      
      
      
        <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
          Troubleshoot
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Troubleshoot
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../troubleshooting/overview/" class="md-nav__link">
        Troubleshooting Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../troubleshooting/loop-crashing/" class="md-nav__link">
        Loop App Crashes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../troubleshooting/red-loop/" class="md-nav__link">
        Red Loop
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../troubleshooting/pod-pairing/" class="md-nav__link">
        Pod Pairing Failures
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../troubleshooting/omnipod-faults/" class="md-nav__link">
        Omnipod Faults
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../troubleshooting/pump-errors/" class="md-nav__link">
        MDT Pump Errors
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../operation/features/battery/" class="md-nav__link">
        MDT Pump Battery
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" checked>
      
      
      
        <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
          Version
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          Version
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../version/overview-version/" class="md-nav__link">
        Version Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../version/releases/" class="md-nav__link">
        Loop Releases
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Code Customization
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Code Customization
      </a>
      
        

  

<nav class="md-nav md-nav--secondary" aria-label="Headers on this Page">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Headers on this Page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#build-then-customize" class="md-nav__link">
    Build then Customize
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#customization-options" class="md-nav__link">
    Customization Options
  </a>
  
    <nav class="md-nav" aria-label="Customization Options">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#find-my-downloaded-loop-code" class="md-nav__link">
    Find My Downloaded Loop Code
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#build-time-features" class="md-nav__link">
    Build-Time Features
  </a>
  
    <nav class="md-nav" aria-label="Build-Time Features">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#chart-clamp" class="md-nav__link">
    Chart Clamp
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#instructions-for-finding-the-lines" class="md-nav__link">
    Instructions for Finding the Lines
  </a>
  
    <nav class="md-nav" aria-label="Instructions for Finding the Lines">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#key_phrase" class="md-nav__link">
    Key_Phrase
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#module-folder-file" class="md-nav__link">
    Module, Folder, File
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#customizations" class="md-nav__link">
    Customizations:
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#disable-authentication-for-bolusing" class="md-nav__link">
    Disable Authentication for Bolusing
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#default-carb-absorption-times" class="md-nav__link">
    Default Carb Absorption Times
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adjust-percent-bolus-for-automatic-bolus" class="md-nav__link">
    Adjust Percent Bolus for Automatic Bolus
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modify-override-insulin-needs-picker" class="md-nav__link">
    Modify Override Insulin Needs Picker
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modify-maximum-and-warning-carb-entry" class="md-nav__link">
    Modify Maximum and Warning Carb Entry
  </a>
  
    <nav class="md-nav" aria-label="Modify Maximum and Warning Carb Entry">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#loop-3-carb-entry-variables" class="md-nav__link">
    Loop 3 Carb Entry Variables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loop-22x-max-carb-entry" class="md-nav__link">
    Loop 2.2.x Max Carb Entry
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pods-add-extra-insulin-on-insertion" class="md-nav__link">
    Pods: Add Extra Insulin on Insertion
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modify-the-guardrails" class="md-nav__link">
    Modify the Guardrails
  </a>
  
    <nav class="md-nav" aria-label="Modify the Guardrails">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#glucose-guardrails" class="md-nav__link">
    Glucose Guardrails
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modify-guardrails-for-insulin-sensitivity-factor-isf" class="md-nav__link">
    Modify Guardrails for Insulin Sensitivity Factor (ISF)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modify-guardrails-for-carb-ratio-cr" class="md-nav__link">
    Modify Guardrails for Carb Ratio (CR)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adjust-future-carbs-time-interval" class="md-nav__link">
    Adjust Future Carbs Time Interval
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adjust-the-watch-crown-sensitivity" class="md-nav__link">
    Adjust the Watch Crown Sensitivity
  </a>
  
    <nav class="md-nav" aria-label="Adjust the Watch Crown Sensitivity">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#loop-22x-sensitivity" class="md-nav__link">
    Loop 2.2.x Sensitivity
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loop-22x-bolus-confirmation" class="md-nav__link">
    Loop 2.2.x Bolus Confirmation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loop-3-digital-crown-adjustments" class="md-nav__link">
    Loop 3 Digital Crown Adjustments
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#expiration-notification-customization" class="md-nav__link">
    Expiration Notification Customization
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exponential-insulin-curve" class="md-nav__link">
    Exponential Insulin Curve
  </a>
  
    <nav class="md-nav" aria-label="Exponential Insulin Curve">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#enable-child-model" class="md-nav__link">
    Enable Child Model
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#insulin-model-customization" class="md-nav__link">
    Insulin Model Customization
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#loop-logo" class="md-nav__link">
    Loop Logo
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#additional-customizations-for-loop-3" class="md-nav__link">
    Additional Customizations for Loop 3
  </a>
  
    <nav class="md-nav" aria-label="Additional Customizations for Loop 3">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#open-a-terminal-in-loopworkspace-folder" class="md-nav__link">
    Open a Terminal in LoopWorkspace Folder
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom-type-one-looppatches" class="md-nav__link">
    Custom Type One LoopPatches
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#libre-support-for-loop-32x-code" class="md-nav__link">
    Libre Support for Loop 3.2.x Code
  </a>
  
    <nav class="md-nav" aria-label="Libre Support for Loop 3.2.x Code">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#add-libre-app-to-loop-phone" class="md-nav__link">
    Add Libre App to Loop Phone
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modify-loop-to-use-libre" class="md-nav__link">
    Modify Loop to use Libre
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#libretransmitter" class="md-nav__link">
    LibreTransmitter
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#limit-loop-for-faster-cgm" class="md-nav__link">
    Limit Loop for Faster CGM
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#folders-and-icons" class="md-nav__link">
    Folders and Icons
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../gh-actions/gh-customize/" class="md-nav__link">
        Customize using Browser
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../version/simulator/" class="md-nav__link">
        Simulator Build
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../version/development/" class="md-nav__link">
        Loop Development
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../version/build-dev/" class="md-nav__link">
        Build Loop Dev
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../version/loopworkspace/" class="md-nav__link">
        LoopWorkspace
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
      
      
      
        <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
          Nightscout
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          Nightscout
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../nightscout/overview/" class="md-nav__link">
        Nightscout Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../nightscout/new-user/" class="md-nav__link">
        New Nightscout
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../nightscout/update-user/" class="md-nav__link">
        Nightscout with Loop
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../nightscout/troubleshoot/" class="md-nav__link">
        Nightscout Troubleshooting
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../nightscout/ns-crossref/" class="md-nav__link">
        Nightscout Cross Ref
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../nightscout/remote-overview/" class="md-nav__link">
        Remote Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../nightscout/remote-config/" class="md-nav__link">
        Remote Configuration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../nightscout/remote-commands/" class="md-nav__link">
        Remote Commands
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../nightscout/remote-errors/" class="md-nav__link">
        Remote Errors
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../nightscout/loop-caregiver/" class="md-nav__link">
        Loop Caregiver
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" >
      
      
      
        <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
          FAQs
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_10">
          <span class="md-nav__icon md-icon"></span>
          FAQs
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../faqs/overview-faqs/" class="md-nav__link">
        FAQs Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../faqs/safety-faqs/" class="md-nav__link">
        Safety Tips
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../faqs/FAQs/" class="md-nav__link">
        Loop FAQs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../faqs/time-faqs/" class="md-nav__link">
        Time FAQs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../faqs/omnipod-faqs/" class="md-nav__link">
        Omnipod FAQs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../faqs/cgm-faqs/" class="md-nav__link">
        CGM FAQs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../faqs/update-faqs/" class="md-nav__link">
        Update/Rebuild Loop FAQs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../faqs/new-phone/" class="md-nav__link">
        New Phone Tips
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../faqs/rileylink-faqs/" class="md-nav__link">
        RileyLink FAQs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../faqs/algorithm-faqs/" class="md-nav__link">
        Algorithm FAQs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../faqs/apple-health-faqs/" class="md-nav__link">
        Apple Health FAQs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../faqs/glossary/" class="md-nav__link">
        Glossary
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../translate/" class="md-nav__link">
        Translation
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  

<nav class="md-nav md-nav--secondary" aria-label="Headers on this Page">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Headers on this Page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#build-then-customize" class="md-nav__link">
    Build then Customize
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#customization-options" class="md-nav__link">
    Customization Options
  </a>
  
    <nav class="md-nav" aria-label="Customization Options">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#find-my-downloaded-loop-code" class="md-nav__link">
    Find My Downloaded Loop Code
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#build-time-features" class="md-nav__link">
    Build-Time Features
  </a>
  
    <nav class="md-nav" aria-label="Build-Time Features">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#chart-clamp" class="md-nav__link">
    Chart Clamp
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#instructions-for-finding-the-lines" class="md-nav__link">
    Instructions for Finding the Lines
  </a>
  
    <nav class="md-nav" aria-label="Instructions for Finding the Lines">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#key_phrase" class="md-nav__link">
    Key_Phrase
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#module-folder-file" class="md-nav__link">
    Module, Folder, File
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#customizations" class="md-nav__link">
    Customizations:
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#disable-authentication-for-bolusing" class="md-nav__link">
    Disable Authentication for Bolusing
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#default-carb-absorption-times" class="md-nav__link">
    Default Carb Absorption Times
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adjust-percent-bolus-for-automatic-bolus" class="md-nav__link">
    Adjust Percent Bolus for Automatic Bolus
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modify-override-insulin-needs-picker" class="md-nav__link">
    Modify Override Insulin Needs Picker
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modify-maximum-and-warning-carb-entry" class="md-nav__link">
    Modify Maximum and Warning Carb Entry
  </a>
  
    <nav class="md-nav" aria-label="Modify Maximum and Warning Carb Entry">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#loop-3-carb-entry-variables" class="md-nav__link">
    Loop 3 Carb Entry Variables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loop-22x-max-carb-entry" class="md-nav__link">
    Loop 2.2.x Max Carb Entry
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pods-add-extra-insulin-on-insertion" class="md-nav__link">
    Pods: Add Extra Insulin on Insertion
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modify-the-guardrails" class="md-nav__link">
    Modify the Guardrails
  </a>
  
    <nav class="md-nav" aria-label="Modify the Guardrails">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#glucose-guardrails" class="md-nav__link">
    Glucose Guardrails
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modify-guardrails-for-insulin-sensitivity-factor-isf" class="md-nav__link">
    Modify Guardrails for Insulin Sensitivity Factor (ISF)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modify-guardrails-for-carb-ratio-cr" class="md-nav__link">
    Modify Guardrails for Carb Ratio (CR)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adjust-future-carbs-time-interval" class="md-nav__link">
    Adjust Future Carbs Time Interval
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adjust-the-watch-crown-sensitivity" class="md-nav__link">
    Adjust the Watch Crown Sensitivity
  </a>
  
    <nav class="md-nav" aria-label="Adjust the Watch Crown Sensitivity">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#loop-22x-sensitivity" class="md-nav__link">
    Loop 2.2.x Sensitivity
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loop-22x-bolus-confirmation" class="md-nav__link">
    Loop 2.2.x Bolus Confirmation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loop-3-digital-crown-adjustments" class="md-nav__link">
    Loop 3 Digital Crown Adjustments
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#expiration-notification-customization" class="md-nav__link">
    Expiration Notification Customization
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exponential-insulin-curve" class="md-nav__link">
    Exponential Insulin Curve
  </a>
  
    <nav class="md-nav" aria-label="Exponential Insulin Curve">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#enable-child-model" class="md-nav__link">
    Enable Child Model
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#insulin-model-customization" class="md-nav__link">
    Insulin Model Customization
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#loop-logo" class="md-nav__link">
    Loop Logo
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#additional-customizations-for-loop-3" class="md-nav__link">
    Additional Customizations for Loop 3
  </a>
  
    <nav class="md-nav" aria-label="Additional Customizations for Loop 3">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#open-a-terminal-in-loopworkspace-folder" class="md-nav__link">
    Open a Terminal in LoopWorkspace Folder
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom-type-one-looppatches" class="md-nav__link">
    Custom Type One LoopPatches
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#libre-support-for-loop-32x-code" class="md-nav__link">
    Libre Support for Loop 3.2.x Code
  </a>
  
    <nav class="md-nav" aria-label="Libre Support for Loop 3.2.x Code">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#add-libre-app-to-loop-phone" class="md-nav__link">
    Add Libre App to Loop Phone
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modify-loop-to-use-libre" class="md-nav__link">
    Modify Loop to use Libre
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#libretransmitter" class="md-nav__link">
    LibreTransmitter
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#limit-loop-for-faster-cgm" class="md-nav__link">
    Limit Loop for Faster CGM
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#folders-and-icons" class="md-nav__link">
    Folders and Icons
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>Code Customization</h1>

<h2 id="build-then-customize">Build then Customize<a class="headerlink" href="#build-then-customize" title="Anchor link to this Header on this Page">&para;</a></h2>
<p>For new Loopers, please build the code before you make any changes. Start with Open <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr> and familiarize yourself with the interface.  Later, you can make the customization(s) you desire and build again.  The second build will be much easier than your first build.</p>
<p>These customizations require you to build the <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr> app onto your iPhone, they cannot be done from within the app itself.</p>
<h2 id="customization-options">Customization Options<a class="headerlink" href="#customization-options" title="Anchor link to this Header on this Page">&para;</a></h2>
<p>Read about the customizations on this page before applying them.</p>
<div class="admonition warning">
<p class="admonition-title">You take responsibility</p>
<p>You are responsible when you decide to use customizations.</p>
<p>Be sure to report what changes you made if you need to ask for assistance with your app.</p>
</div>
<p>Some customizations are the same for everyone and have been prepared for easy use. </p>
<ul>
<li>Mac-<abbr title="program used to build an app">Xcode</abbr> builders can use the <a href="https://www.loopandlearn.org/custom-code"><abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr> and Learn: <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr> Customizations</a> script<ul>
<li>This script automatically finds the most recent download and when you are done selecting customizations, opens <abbr title="program used to build an app">Xcode</abbr> to that download</li>
<li>Even if you don't want to apply customizations, you can use this script as a easy way to find and open your download</li>
</ul>
</li>
<li><abbr title="an online service for storing repositories, accessible from a browser">GitHub</abbr> builders can use <a href="https://www.loopandlearn.org/custom-code#prepared-custom-list"><abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr> and Learn: Customization: Prepared Customizations</a></li>
</ul>
<p>Other customizations require that you create your own personalized version.</p>
<ul>
<li>Mac-<abbr title="program used to build an app">Xcode</abbr> builders: all the information required is on this page</li>
<li><abbr title="an online service for storing repositories, accessible from a browser">GitHub</abbr> builders: read this page and use <a href="../../gh-actions/gh-customize/#prepare-the-patches">LoopDocs: <abbr title="an online service for storing repositories, accessible from a browser">GitHub</abbr> Customization</a></li>
</ul>
<p>For <abbr title="an online service for storing repositories, accessible from a browser">GitHub</abbr> Browser Build, you can skip over the Mac-<abbr title="program used to build an app">Xcode</abbr> specific section and skip ahead to <a href="#build-time-features">Build-Time Features</a>.</p>
<p>When applying a customization using Mac-<abbr title="program used to build an app">Xcode</abbr>, the downloaded code should be fairly recent. If you are not sure, get a fresh download. If you know your downloaded code is the <a href="../../version/releases/#current-release">Current Release</a>, you can skip the download and use the same folder as last time.</p>
<h3 id="find-my-downloaded-loop-code">Find My Downloaded <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr> Code<a class="headerlink" href="#find-my-downloaded-loop-code" title="Anchor link to this Header on this Page">&para;</a></h3>
<p>Refer to the graphic below.  The Downloads folder in <abbr title="graphical folder and file display on Mac">Finder</abbr> is highlighted on the upper left. The full path to <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr>.xcworkspace is highlighted along the bottom.</p>
<div class="admonition success">
<p class="admonition-title"><abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr> to LoopWorkspace</p>
<p>Note that the directory <code>Loop.xcworkspace</code> has been renamed to <code>LoopWorkspace.xcworkspace</code> in the released code. For experienced builders - you realize this is good because the build process is easier.</p>
<p>The words were updated, but it will take time for the graphics to be updated.</p>
</div>
<ul>
<li>Open <abbr title="graphical folder and file display on Mac">Finder</abbr></li>
<li>Navigate to Downloads/BuildLoop and look for your download by name and date</li>
<li>Open that folder, for example, Downloads/BuildLoop/<abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr>-220803-1145, and inside that folder open the LoopWorkspace folder</li>
<li>Inside the Downloads/BuildLoop/<abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr>-220803-1145/LoopWorkspace folder, double-click on LoopWorkspace.xcworkspace (graphic not updated yet)</li>
<li><abbr title="program used to build an app">Xcode</abbr> automatically opens to that particular download</li>
<li>You can then make the customizations and build to your phone</li>
</ul>
<p align="center"><img alt="how to use finder to find the correct download and open xcode" src="../img/finding-loopworkspace.svg" width="750" /></p>
<div class="admonition tip">
<p class="admonition-title">Experienced Builders</p>
<p>Experienced builders will often build a fresh download to a simulator for their phone <abbr title="operating system used by Apple Mobile devices (iPhone, iPod, iPad)">iOS</abbr> (not their phone) to ensure download is good and is compatible with <abbr title="operating system for Mac computer">macOS</abbr>, <abbr title="program used to build an app">Xcode</abbr> and phone <abbr title="operating system used by Apple Mobile devices (iPhone, iPod, iPad)">iOS</abbr>. Once the build is successful, they apply their customizations and build again to the simulator. Last step is to build the customized version to their real phone.</p>
</div>
<p>Be sure to read the <a href="./#instructions-for-finding-the-lines">Instructions for Finding the Lines</a>.</p>
<div class="admonition info">
<p class="admonition-title">Line numbers may change</p>
<p>Every effort will be made to update the line numbers as the code is updated, but there may be times where the screenshots and line numbers differ from the current version of <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr> code.</p>
<ul>
<li>
<p>You may notice some customizations list line numbers for different branches</p>
</li>
<li>
<p>If you cannot identify a line that looks exactly like the example - do not guess - go to your favorite social media group and ask for help</p>
</li>
</ul>
</div>
<div class="admonition abstract">
<p class="admonition-title"><abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr> 2.2.x vs <abbr title="Latest release with major updates">Loop 3</abbr></p>
<ul>
<li><abbr title="Latest release with major updates">Loop 3</abbr> has been released but there are some people using older code.</li>
<li>The labels below indicate <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr> 2.2.x or <abbr title="Latest release with major updates">Loop 3</abbr>, if they are different</li>
<li>Users of <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr> 2.2.9 (or earlier) or FreeAPS should refer to the <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr> 2.2.x examples.</li>
<li>Some 2.2.x customizations will be removed as time goes on</li>
<li>Users of <abbr title="Latest release with major updates">Loop 3</abbr> should refer to the <abbr title="Latest release with major updates">Loop 3</abbr> examples.<ul>
<li>Note that some changes are in a different file for <abbr title="Latest release with major updates">Loop 3</abbr> (part of the architecture upgrade for the app).</li>
</ul>
</li>
</ul>
</div>
<h2 id="build-time-features">Build-Time Features<a class="headerlink" href="#build-time-features" title="Anchor link to this Header on this Page">&para;</a></h2>
<p>Build-time features are not available with <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr> 2.2.x.</p>
<p>With <abbr title="Latest release with major updates">Loop 3</abbr>, some features are enabled or disabled by default but can be modified by adding a "flag" in the LoopConfigOverride.xcconfig file.</p>
<p>If you use the <abbr title="an online service for storing repositories, accessible from a browser">GitHub</abbr> Build Method, these build-time features can be added to your copy of the LoopConfigOverride.xcconfig file. Use the pencil icon in that file on <abbr title="an online service for storing repositories, accessible from a browser">GitHub</abbr> and then <abbr title="a formal change to files in a repository; each commit has an alphanumeric identifier (SHA-1)">commit</abbr> the change to your <abbr title="a copy of code in a github repository other than the original">fork</abbr>.</p>
<p>If you use the Mac-<abbr title="program used to build an app">Xcode</abbr> Build Method, this is the same file used to automatically sign all your targets. You can edit the version in your LoopWorkspace folder (it shows up as the top item in the <abbr title="program used to build an app">Xcode</abbr> folder view) - or - if you use the build script, you can edit the copy found in ~/Downloads/BuildLoop after the first time you use the script. For that second case, the "flags" you add in ~/Downloads/BuildLoop/LoopConfigOverride.xcconfig are applied to all downloads created with the script.</p>
<p>These flags are always upper case with underscore separating words for clarity, for example <code>MY_EXAMPLE_FLAG</code>. If you have more than one flag, they are separated by a space. Do not enter a line break between selections; in other words, do not hit return or enter. <abbr title="program used to build an app">Xcode</abbr> will automatically word-wrap the line for clarity. All values need to be on a single line.</p>
<div class="admonition question">
<p class="admonition-title">New Instructions</p>
<p>The instructions are more robust than earlier instructions that had you editing a line instead of adding new ones.</p>
</div>
<p>Copy the text below, add it to the end of your LoopConfigOverride.xcconfig file and then insert the desired flags in place of <code>MY_EXAMPLE_FLAG</code>. If you want more than one flag, separate them by a space.</p>
<div class="copy highlight"><span class="filename">Lines to add to end of file</span><pre><span></span><code>// Add Build-Time features to compilation conditions
SWIFT_ACTIVE_COMPILATION_CONDITIONS = $(SWIFT_ACTIVE_COMPILATION_CONDITIONS) MY_EXAMPLE_FLAG
</code></pre></div>
<p><em>Code Before Modification</em></p>
<div class="highlight"><pre><span></span><code>// Put your team id here for signing
//LOOP_DEVELOPMENT_TEAM = UY678SP37Q
</code></pre></div>
<p>The example below is for someone who is using a Free Developer ID - which does not support Siri.</p>
<p><em>Code After Modification</em></p>
<div class="highlight"><pre><span></span><code>// Put your team id here for signing
//LOOP_DEVELOPMENT_TEAM = UY678SP37Q

// Add Build-Time features to compilation conditions
SWIFT_ACTIVE_COMPILATION_CONDITIONS = $(SWIFT_ACTIVE_COMPILATION_CONDITIONS) SIRI_DISABLED
</code></pre></div>
<p>List of some flags and what they do:</p>
<table>
<thead>
<tr>
<th>FLAG</th>
<th>PURPOSE</th>
</tr>
</thead>
<tbody>
<tr>
<td>SIRI_DISABLED</td>
<td>Required to build <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr> from <abbr title="program used to build an app">Xcode</abbr> with a free developer account</td>
</tr>
<tr>
<td>ADULT_CHILD_INSULIN_MODEL_SELECTION_ENABLED</td>
<td>The choice for Child Model is enabled in <abbr title="Basal Rates, ISF, CR, correction and safety ranges and delivery limits">Therapy Settings</abbr>. Please read <a href="#enable-child-model">Enable Child Model</a>.</td>
</tr>
<tr>
<td>REMOTE_OVERRIDES_DISABLED</td>
<td>Remote commands: override, carbs or boluses will not be accepted even if all the <a href="../../nightscout/remote-overview/">Remote Command</a> requirements are configured<br><br>If you do configure this and later try to set up remote commands, they will not work and there is <strong>no error</strong> message. <a href="../../nightscout/remote-errors/#loop-remote_overrides_disabled">Remote Errors: <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr> REMOTE_OVERRIDES_DISABLED</a></td>
</tr>
<tr>
<td>OBSERVE_HEALTH_KIT_CARB_SAMPLES_FROM_OTHER_APPS_ENABLED</td>
<td>Turns on ability for <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr> to read third party carb entries. You must also make sure Health permissions allow <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr> to read carbs from Health. Be vigilant if you select this; added carbs lead to added insulin dosing when closed loop is enabled</td>
</tr>
<tr>
<td>SHOW_EVENTUAL_BLOOD_GLUCOSE_ON_WATCH_DISABLED</td>
<td>The Apple Watch screens show current glucose, trend arrow and eventual glucose by default. This flag disables the display of eventual glucose on the watch if you find the display distracting.</td>
</tr>
<tr>
<td>PREDICTED_GLUCOSE_CHART_CLAMP_ENABLED</td>
<td><a href="#chart-clamp">Chart Clamp</a></td>
</tr>
<tr>
<td>ALLOW_ALGORITHM_EXPERIMENTS</td>
<td><strong>dev <abbr title="version of code within a single repository or workspace repository">branch</abbr> only</strong><br><br>This is enabled by default to show Algorithm Experiments below the <abbr title="Basal Rates, ISF, CR, correction and safety ranges and delivery limits">Therapy Settings</abbr> row. This enables the user to separately enable or disable Glucose Based Partial Application and Integral Retrospective Correction</td>
</tr>
</tbody>
</table>
<h3 id="chart-clamp">Chart Clamp<a class="headerlink" href="#chart-clamp" title="Anchor link to this Header on this Page">&para;</a></h3>
<p>What the heck is a chart clamp? It means the range displayed will not be smaller than the clamp but it can be bigger.</p>
<p><abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr> automatically scales the glucose charts based on the history shown. Some people don't like to see the vertical axis changing, so they turn on the "clamp".</p>
<p>When the <code>PREDICTED_GLUCOSE_CHART_CLAMP_ENABLED</code> build time flag is added:</p>
<ul>
<li>the range shown is never smaller than <code>glucoseChartDefaultDisplayBoundClamped</code></li>
<li>80 to 240 mg/dL (4.4 to 13.3 mmol/L)</li>
</ul>
<p>When you do not add that build time flag:</p>
<ul>
<li>the range shown is never smaller than <code>glucoseChartDefaultDisplayBound</code></li>
<li>100 to 175 mg/dL (5.6 to 9.7 mmol/L)</li>
</ul>
<p>If glucose within the display history is outside of the bound, the graph range expands to include that glucose level. This prevents glucose readings from being "hidden".</p>
<p>You can customize chart display settings if you want. The original lines of code are shown below. You will need to read the rest of this page to figure out how to modify these to meet what you prefer. If you can't figure this out - reach out for help.</p>
<ul>
<li>Module: <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr></li>
<li><abbr title="Latest release with major updates">Loop 3</abbr><ul>
<li>Folder: <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr>/Models</li>
<li>File: LoopConstants.swift</li>
<li>Lines: 32 to 45</li>
</ul>
</li>
</ul>
<div class="highlight"><pre><span></span><code>    // MARK - Display settings

    static let minimumChartWidthPerHour: CGFloat = 50

    static let statusChartMinimumHistoryDisplay: TimeInterval = .hours(1)

    static let glucoseChartDefaultDisplayBound =
        HKQuantity(unit: .milligramsPerDeciliter, doubleValue: 100)...HKQuantity(unit: .milligramsPerDeciliter, doubleValue: 175)

    static let glucoseChartDefaultDisplayRangeWide =
        HKQuantity(unit: .milligramsPerDeciliter, doubleValue: 60)...HKQuantity(unit: .milligramsPerDeciliter, doubleValue: 200)

    static let glucoseChartDefaultDisplayBoundClamped =
        HKQuantity(unit: .milligramsPerDeciliter, doubleValue: 80)...HKQuantity(unit: .milligramsPerDeciliter, doubleValue: 240)
</code></pre></div>
<h2 id="instructions-for-finding-the-lines">Instructions for Finding the Lines<a class="headerlink" href="#instructions-for-finding-the-lines" title="Anchor link to this Header on this Page">&para;</a></h2>
<p>The instructions on this page were originally prepared for the Mac-<abbr title="program used to build an app">Xcode</abbr> method. </p>
<p>The <abbr title="an online service for storing repositories, accessible from a browser">GitHub</abbr> Browser Build method instructions are similar, but each one is used to edit your <abbr title="a copy of code in a github repository other than the original">fork</abbr> of the particular Module in your <abbr title="an online service for storing repositories, accessible from a browser">GitHub</abbr> account as instructed on the <a href="../../gh-actions/gh-customize/">Customize with <abbr title="an online service for storing repositories, accessible from a browser">GitHub</abbr></a> page.</p>
<p>For each customization, you will be given landmarks to find the correct location in the code. You can choose to search using the <code>Key_Phrase</code> or navigate to the file in the folder structure and look for ( <span class="keys"><kbd class="key-command">Cmd</kbd><span>+</span><kbd class="key-l">L</kbd></span> # ) the line number. </p>
<p>Some customizations are the same for all users, and do not require personalization. See <a href="https://www.loopandlearn.org/custom-code#custom-list"><abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr> and Learn: Customization: Single Customization List</a>.</p>
<p>For Mac-<abbr title="program used to build an app">Xcode</abbr> builders:</p>
<ul>
<li>Either <a href="#key_phrase">Key_Phrase</a> or <a href="#module-folder-file">Module, Folder, File</a>
 can be used to find the lines</li>
<li>Be sure to save the file when you make a change - otherwise the modification does not get built into your app</li>
<li>Some folder icons show different names in <abbr title="program used to build an app">Xcode</abbr>, see <a href="#folders-and-icons">Folders and Icons</a></li>
</ul>
<p>For <abbr title="an online service for storing repositories, accessible from a browser">GitHub</abbr> Browser builders;</p>
<ul>
<li>Some customizations can be copied from the <a href="https://www.loopandlearn.org/custom-code#custom-list"><abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr> and Learn: Customization: Single Customization List</a></li>
<li>Otherwise, create your own customization for the Module identified under <a href="#module-folder-file">Module, Folder, File</a> as instructed on the <a href="../../gh-actions/gh-customize/">Customize with <abbr title="an online service for storing repositories, accessible from a browser">GitHub</abbr></a> page</li>
</ul>
<h3 id="key_phrase">Key_Phrase<a class="headerlink" href="#key_phrase" title="Anchor link to this Header on this Page">&para;</a></h3>
<div class="copy highlight"><span class="filename">Example of a Key_Phrase</span><pre><span></span><code>use the copy button at right, paste into search
The copy button for this exampe is just for practice
Do not paste the result anywhere
</code></pre></div>
<p>To search using the <code>Key_Phrase</code> (see graphic below for clarification):</p>
<ul>
<li>A copy button is available when you hover your mouse in the right-hand side of the block below the title <code>Key_Phrase</code>;  click on it to copy the phrase</li>
<li>In <abbr title="program used to build an app">Xcode</abbr>, tap the Find menu item and select <code>Find in Workspace</code></li>
<li>Paste the text into the Find search-box that opens on upper left of <abbr title="program used to build an app">Xcode</abbr> screen and hit enter<ul>
<li><strong>If you don't see the phrase in the box, hit backspace - your system copied an extra return</strong></li>
</ul>
</li>
<li>You should see a message <code>1 result in 1 file</code> (for most cases)<ul>
<li>Some customizations will show more than one result, but that will be explained in the directions for that customization</li>
</ul>
</li>
<li>The file in which the line is located is reported showing the line in that file containing the <code>Key_Phrase</code></li>
<li>Click on the one you think is correct and it will display in the main middle window of <abbr title="program used to build an app">Xcode</abbr> with the Keyword highlighted on the line you selected<ul>
<li>The <code>Key_Phrase</code> was selected to limit the search to just the relevant line (if possible)</li>
<li>In some cases, the <code>Key_Phrase</code> gets you close but not exactly on the line where you need to make the modifications - please read carefully</li>
</ul>
</li>
</ul>
<p align="center"><img alt="graphic showing how to search using the Key_Phrase" src="../img/code-custom-xcode-search.svg" width="750" /></p>
<h3 id="module-folder-file">Module, Folder, File<a class="headerlink" href="#module-folder-file" title="Anchor link to this Header on this Page">&para;</a></h3>
<p>Each customization will also show Module, Folder and File bullet below the key phrase.</p>
<ul>
<li>Module: <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr></li>
<li>Folder: <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr>/subfolder1/subfolder2/etc.</li>
<li>File: filename.swift, line number(s)</li>
</ul>
<h2 id="customizations">Customizations:<a class="headerlink" href="#customizations" title="Anchor link to this Header on this Page">&para;</a></h2>
<p>The customizations below show the original line of code that you will be changing.</p>
<p>There may be a figure illustrating the change.</p>
<p>Below the figure, the original, and in some cases, the modified code will be displayed as text.</p>
<ul>
<li>Sometimes that line is long and you may need to use the scroll bar to see the entire line in LoopDocs</li>
<li>In most cases, an example customization is shown to assist you in deciding how to edit the line to meet your needs</li>
</ul>
<h2 id="disable-authentication-for-bolusing">Disable Authentication for Bolusing<a class="headerlink" href="#disable-authentication-for-bolusing" title="Anchor link to this Header on this Page">&para;</a></h2>
<p>Depending on your iPhone Settings and model, you may have Face ID or Touch ID enabled.  Those security features will also be used to authenticate bolus delivery in <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr>.  You can choose to disable authentication (i.e., not require Face ID, Touch ID, or passcode for bolusing) through the following code customization.</p>
<div class="admonition warning">
<p class="admonition-title">Safety Measure</p>
<p>If you disable this, you are removing an important safety feature.</p>
<p>In addition to authenticating every manual bolus, this helps to protect against sleep bolusing and pocket bolusing.</p>
<p>For <abbr title="Latest release with major updates">Loop 3</abbr>, this controls the authorization requirement to modify <abbr title="Basal Rates, ISF, CR, correction and safety ranges and delivery limits">Therapy Settings</abbr> as well as to confirm bolus delivery.</p>
</div>
<div class="copy highlight"><span class="filename">Key_Phrase</span><pre><span></span><code>canEvaluatePolicy(.deviceOwnerAuthentication
</code></pre></div>
<ul>
<li>Module: LoopKit</li>
<li><abbr title="Latest release with major updates">Loop 3</abbr><ul>
<li>Folder: LoopKit/LoopKitUI/Extensions/</li>
<li>File: Environment+Authenticate.swift, Line 20</li>
</ul>
</li>
</ul>
<h4 id="loop-3"><abbr title="Latest release with major updates">Loop 3</abbr><a class="headerlink" href="#loop-3" title="Anchor link to this Header on this Page">&para;</a></h4>
<p><em>Code Before Modification</em></p>
<div class="highlight"><pre><span></span><code>if context.canEvaluatePolicy(.deviceOwnerAuthentication, error: &amp;error) {
</code></pre></div>
<p><em>Code After Modification</em></p>
<div class="highlight"><pre><span></span><code>if false &amp;&amp; context.canEvaluatePolicy(.deviceOwnerAuthentication, error: &amp;error) {
</code></pre></div>
<h4 id="loop-22x"><abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr> 2.2.x<a class="headerlink" href="#loop-22x" title="Anchor link to this Header on this Page">&para;</a></h4>
<ul>
<li><abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr> 2.2.x<ul>
<li>Folder: <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr>/View Controllers</li>
<li>File: BolusViewController.swift, Line 529</li>
</ul>
</li>
</ul>
<p>The screenshot below was taken with <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr> v2.0 when the line number was 201; with <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr> 2.2.x versions, that same code is found at line 529. Add the <code>false &amp;&amp;</code> as shown in the screenshot below:</p>
<p align="center"><img alt="img/custom-id.png" src="../img/custom-id.png" width="750" /></p>
<p><em>Code Before Modification</em></p>
<div class="highlight"><pre><span></span><code>if context.canEvaluatePolicy(.deviceOwnerAuthentication, error: nil) {
</code></pre></div>
<p><em>Code After Modification</em></p>
<div class="highlight"><pre><span></span><code>if false &amp;&amp; context.canEvaluatePolicy(.deviceOwnerAuthentication, error: nil) {
</code></pre></div>
<h2 id="default-carb-absorption-times">Default Carb Absorption Times<a class="headerlink" href="#default-carb-absorption-times" title="Anchor link to this Header on this Page">&para;</a></h2>
<p align="center"><img alt="img/carb_screen.png" src="../img/carb_screen.png" width="200" /></p>
<p><abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr>s default carb absorption times are based on the high, medium, and low glycemic index absorption curves presented in <em>Think Like A Pancreas</em> by Gary Scheiner.  With <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr> 2.2.x, the lollipop (fast) icon is set for 2 hours, taco (medium) icon for 3 hours, and pizza (slow) icon for 4 hours. This is modified for <abbr title="Latest release with major updates">Loop 3</abbr> to 30 minutes, 3 hours and 5 hours respectively.</p>
<div class="copy highlight"><span class="filename">Key_Phrase</span><pre><span></span><code>defaultCarbAbsorptionTimes: CarbStore.DefaultAbsorptionTimes
</code></pre></div>
<ul>
<li>Module: <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr></li>
<li>
<p><abbr title="Latest release with major updates">Loop 3</abbr></p>
<ul>
<li>Folder: <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr>/LoopCore</li>
<li>File: LoopCoreConstants.swift</li>
<li>Line: 16</li>
</ul>
</li>
<li>
<p><abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr> 2.2.x</p>
<ul>
<li>Folder: <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr>/LoopCore</li>
<li>File: LoopSettings.swift</li>
<li>Line: 16 (2.2.4 master), 41 (2.2.4 AB), 50 (2.2.5 and later)</li>
</ul>
</li>
</ul>
<p>For example, if you wanted to modify <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr> 2.2.9 so that lollipop represents a 30 minute absorption and pizza a 5 hour absorption, the edit would be as follows:</p>
<p><em>Code Before Modification for <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr> 2.2.x</em></p>
<div class="highlight"><pre><span></span><code>public static let defaultCarbAbsorptionTimes: CarbStore.DefaultAbsorptionTimes = (fast: .hours(2), medium: .hours(3), slow: .hours(4))
</code></pre></div>
<p><em>Code After Modification or default for <abbr title="Latest release with major updates">Loop 3</abbr></em></p>
<div class="highlight"><pre><span></span><code>public static let defaultCarbAbsorptionTimes: CarbStore.DefaultAbsorptionTimes = (fast: .minutes(30), medium: .hours(3), slow: .hours(5))
</code></pre></div>
<p>Note that if you change from 2 hours to 30 minutes, you must also change the indication before the parentheses.</p>
<h2 id="adjust-percent-bolus-for-automatic-bolus">Adjust Percent Bolus for <abbr title="provide a fraction of the recommended insulin automatically with each updated CGM reading (default 40%)">Automatic Bolus</abbr><a class="headerlink" href="#adjust-percent-bolus-for-automatic-bolus" title="Anchor link to this Header on this Page">&para;</a></h2>
<p>If you are mostly happy with the <abbr title="chosen method for increased insulin dosing: (1) High Temp Basal or (2) Automatic Bolus with scheduled basal">Dosing Strategy</abbr> of <abbr title="provide a fraction of the recommended insulin automatically with each updated CGM reading (default 40%)">Automatic Bolus</abbr> but wish it delivered more or less insulin during every <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr> interval, then this customization is for you.</p>
<p>This customization changes the percent of the recommended bolus used for automatic delivery. The method for calculating that recommendation is not changed by this modification.  The default value is 40% (0.4).  It is recommended you take small changes of 0.1 at a time.  Once you modify it once and try it out for a while, its easy to go back and change it again.</p>
<p><strong>Change just the number and double check that the value is less than 1.</strong></p>
<div class="copy highlight"><span class="filename">Key_Phrase</span><pre><span></span><code>let bolusPartialApplicationFactor
</code></pre></div>
<ul>
<li>Module: <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr></li>
<li><abbr title="Latest release with major updates">Loop 3</abbr><ul>
<li>Folder: <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr>/<abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr>/Models</li>
<li>File: LoopConstants.swift</li>
<li>Line: 53</li>
</ul>
</li>
</ul>
<p><em>Code Before Modification</em></p>
<div class="highlight"><pre><span></span><code>static let bolusPartialApplicationFactor = 0.4
</code></pre></div>
<p><em>Code After Modification to 50% of recommended insulin</em></p>
<div class="highlight"><pre><span></span><code>static let bolusPartialApplicationFactor = 0.5
</code></pre></div>
<div class="admonition warning">
<p class="admonition-title">Do not exceed 1.0</p>
<p>This number should never be bigger than 1 (youd be getting more than <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr> recommends). If you think you need more than 1, consider your settings and meal entries.</p>
</div>
<h2 id="modify-override-insulin-needs-picker">Modify <abbr title="a modification to Loop settings that can change the correction range, the sensitivity (basal, ISF and CR) or both">Override</abbr> Insulin Needs Picker<a class="headerlink" href="#modify-override-insulin-needs-picker" title="Anchor link to this Header on this Page">&para;</a></h2>
<p>Some people want finer settings on the override insulin needs picker (5% instead of 10%) and may want to limit the overall range for overrides  especially for children.</p>
<div class="admonition tip">
<p class="admonition-title">1% Settings Available without Customization</p>
<p>With the advent of <abbr title="Latest release with major updates">Loop 3</abbr>, the <abbr title="a modification to Loop settings that can change the correction range, the sensitivity (basal, ISF and CR) or both">Override</abbr> Insulin Needs values are not limited by the default picker values of 10%.</p>
<ul>
<li>Not available in <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr> 2.2.x</li>
<li>Not available in FreeAPS (based off <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr> 2.2.x)</li>
<li><a href="../../operation/features/overrides/#select-1-insulin-needs">Select 1% Insulin Needs</a></li>
</ul>
</div>
<p>Any override more than a factor of 2 from 100% can cause <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr> predictions to be wrong  especially if a carb count is entered. (An <a href="../../operation/features/overrides/">override</a> is NOT the same as a manual temp basal - it changes insulin sensitivity factor and carb ratio in addition to the basal rate needed for zero change in <abbr title="Insulin on Board, affects automated insulin delivery: the current active insulin (above or below the basal rate) that Loop calculates and uses for glucose prediction">IOB</abbr> for the duration of the override.)</p>
<div class="admonition danger">
<p class="admonition-title">A Sensitivity of 0% is NOT Valid</p>
<p>Do not set the lower level of the sensitivity range to be 0%.</p>
<p>If you configure to allow that and someone chooses it, they will be telling <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr> to divide by zero in some of the calculations. They will see NaN (not a number) in <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr> predictions until that override is removed and will continue to see that for the full duration of insulin action (6 hours).</p>
</div>
<p>This example customization changes the lower bound for sensitivity to 50% (factor of 2 smaller than 100%) and provides 5% steps.</p>
<div class="copy highlight"><span class="filename">Key_Phrase</span><pre><span></span><code>let allScaleFactorPercentages
</code></pre></div>
<ul>
<li>Module: LoopKit</li>
<li>Folder: LoopKit/LoopKitUI/Views</li>
<li>File: InsulinSensitivityScalingTableViewCell.swift, Line 19</li>
</ul>
<p><em>Code Before Modification</em></p>
<div class="highlight"><pre><span></span><code>private let allScaleFactorPercentages = Array(stride(from: 10, through: 200, by: 10))
</code></pre></div>
<p><em>Code After Modification to 50% to 200% by steps of 5%</em></p>
<div class="highlight"><pre><span></span><code>private let allScaleFactorPercentages = Array(stride(from: 50, through: 200, by: 5))
</code></pre></div>
<h2 id="modify-maximum-and-warning-carb-entry">Modify Maximum and Warning Carb Entry<a class="headerlink" href="#modify-maximum-and-warning-carb-entry" title="Anchor link to this Header on this Page">&para;</a></h2>
<h3 id="loop-3-carb-entry-variables"><abbr title="Latest release with major updates">Loop 3</abbr> Carb Entry Variables<a class="headerlink" href="#loop-3-carb-entry-variables" title="Anchor link to this Header on this Page">&para;</a></h3>
<p><abbr title="Latest release with major updates">Loop 3</abbr> has both a maxCarbEntryQuantity and a warningCarbEntryQuantity, found adjacent to each other in the code. The warning value is the level at which you are asked if you really meant to enter that amount:</p>
<div class="copy highlight"><span class="filename">Key_Phrase</span><pre><span></span><code>let maxCarbEntryQuantity =
</code></pre></div>
<ul>
<li>Module: <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr></li>
<li>Folder: <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr>/<abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr>/Models</li>
<li>File: LoopConstants.swift, line 18</li>
</ul>
<p><em>Code Before Modification</em></p>
<div class="highlight"><pre><span></span><code>static let maxCarbEntryQuantity = HKQuantity(unit: .gram(), doubleValue: 250) // cannot exceed this value

static let warningCarbEntryQuantity = HKQuantity(unit: .gram(), doubleValue: 99) // user is warned above this value
</code></pre></div>
<p>This first example might be used by a parent for a child with very small carb entries.</p>
<p><em>Code After Modification to enable the warning at lower levels and limit maximum</em></p>
<div class="highlight"><pre><span></span><code>static let maxCarbEntryQuantity = HKQuantity(unit: .gram(), doubleValue: 99) // cannot exceed this value

static let warningCarbEntryQuantity = HKQuantity(unit: .gram(), doubleValue: 49) // user is warned above this value
</code></pre></div>
<p>This second example might be used by a person who routinely enters large meals and does not want to be warned with every meal.</p>
<p><em>Code After Modification to warn if entry is between 201 and 300g</em></p>
<div class="highlight"><pre><span></span><code>static let maxCarbEntryQuantity = HKQuantity(unit: .gram(), doubleValue: 300) // cannot exceed this value

static let warningCarbEntryQuantity = HKQuantity(unit: .gram(), doubleValue: 200) // user is warned above this value
</code></pre></div>
<h3 id="loop-22x-max-carb-entry"><abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr> 2.2.x Max Carb Entry<a class="headerlink" href="#loop-22x-max-carb-entry" title="Anchor link to this Header on this Page">&para;</a></h3>
<p>Users of <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr> 2.2.9 and earlier or FreeAPS must use the following method for modifying maximum carb entry:</p>
<p>Some people want to limit the maximum number of carbs that can be entered in one entry  especially for children or folks who eat lower carb. This helps prevent accidental typos, e.g., entry of 115 g instead of 15 g for a meal.</p>
<div class="copy highlight"><span class="filename">Key_Phrase</span><pre><span></span><code>maxQuantity =
</code></pre></div>
<p>As shown in the graphic below, this phrase shows up in 2 places, only the first one should be modified.</p>
<p align="center"><img alt="xcode display showing the key phrase found in 2 places" src="../img/xcode-modify-max-carb-entry.svg" width="700" /></p>
<ul>
<li><abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr> 2.2.x<ul>
<li>Folder: <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr>/<abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr>/View Controllers</li>
<li>File: CarbEntryViewController.swift, Line 33 (<abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr> 2.2.x)</li>
</ul>
</li>
</ul>
<p><em>Code Before Modification</em></p>
<div class="highlight"><pre><span></span><code>var maxQuantity = HKQuantity(unit: .gram(), doubleValue: 250)
</code></pre></div>
<p><em>Code After Modification to limit carb entry to 99 g</em></p>
<div class="highlight"><pre><span></span><code>var maxQuantity = HKQuantity(unit: .gram(), doubleValue: 99)
</code></pre></div>
<h2 id="pods-add-extra-insulin-on-insertion">Pods: Add Extra Insulin on Insertion<a class="headerlink" href="#pods-add-extra-insulin-on-insertion" title="Anchor link to this Header on this Page">&para;</a></h2>
<p>The default value is 0.0 U of extra insulin.  If you use this customization, start with a small number and work your way up. If you are coming from manual podding and routinely gave yourself an extra bolus with your PDM at pod change time, you may not need nearly as much with <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr> - be conservative.</p>
<p>Note that <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr> does not include the amount of insulin in the prime or insertion steps in your <abbr title="Insulin on Board, affects automated insulin delivery: the current active insulin (above or below the basal rate) that Loop calculates and uses for glucose prediction">IOB</abbr>. The pod reports every pulse that it delivers to <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr>. If you look in the Pod Settings insulin delivered row, that is the total delivered by the pod minus the (prime plus insertion) amounts. The only way to know that you successfully made this change is to count the clicks.  Normal insertion is 0.5 U (0.5 U / 0.05 U per click = 10 clicks). So if you add 0.35 U to the "extra" value, you should get 0.35 / 0.05 = 7 extra clicks. In other words, 17 total clicks after you press insert.</p>
<p>This code change is found in one location for Eros Pods (called <abbr title="Insulet tubeless insulin pump; Loop supports Eros (with RileyLink) and DASH.  Eros is also known as Classic, UST400, and System.">Omnipod</abbr> throughout the app) and DASH Pods (called <abbr title="Insulet tubeless insulin pump; Loop supports Eros (with RileyLink) and DASH.  Eros is also known as Classic, UST400, and System.">Omnipod</abbr> Dash throughout the app). I tend to change both files, but if you're only using one kind of pod, that is really not necessary.</p>
<div class="copy highlight"><span class="filename">Key_Phrase</span><pre><span></span><code>let cannulaInsertionUnitsExtra
</code></pre></div>
<ul>
<li>Module: OmniBLE (DASH) or OmniKit (Eros)</li>
<li>DASH or Eros Pod (<abbr title="Latest release with major updates">Loop 3</abbr> only)<ul>
<li>Folder: OmniBLE/OmniBLE/OmnipodCommon (DASH)</li>
<li>Folder: OmniKit/OmniKit/OmnipodCommon (Eros)</li>
<li>File: Pod.swift, Line 82 (DASH); Line 87 (Eros); </li>
</ul>
</li>
<li><abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr> 2.2.x: Eros Pod (still configured in rileylink_ios - use Key_Phrase)</li>
</ul>
<p><em>Code Before Modification</em></p>
<div class="highlight"><pre><span></span><code>public static let cannulaInsertionUnitsExtra = 0.0 // edit to add a fixed additional amount of insulin during cannula insertion
</code></pre></div>
<p><em>Code After Modification to add 0.35 U</em></p>
<div class="highlight"><pre><span></span><code>public static let cannulaInsertionUnitsExtra = 0.35 // edit to add a fixed additional amount of insulin during cannula insertion
</code></pre></div>
<h2 id="modify-the-guardrails">Modify the <abbr title="limits in the code for user selected settings, recommended and absolute limits are provided">Guardrails</abbr><a class="headerlink" href="#modify-the-guardrails" title="Anchor link to this Header on this Page">&para;</a></h2>
<p>The <a href="../../loop-3/therapy-settings/#guardrails-for-settings">Therapy Setting <abbr title="limits in the code for user selected settings, recommended and absolute limits are provided">Guardrails</abbr></a> are for <abbr title="Latest release with major updates">Loop 3</abbr> only.</p>
<h3 id="glucose-guardrails">Glucose <abbr title="limits in the code for user selected settings, recommended and absolute limits are provided">Guardrails</abbr><a class="headerlink" href="#glucose-guardrails" title="Anchor link to this Header on this Page">&para;</a></h3>
<p>If you build <abbr title="Latest release with major updates">Loop 3</abbr> over a version of <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr> 2.2.x or FreeAPS where the <abbr title="Loop recommends changes to basal and / or bolus to bring glucose predictions into this range">Correction Range</abbr> is lower than the default value of 87 mg/dL (4.8 mmol/L), your app requires you to satisfy the new guardrail before you can save that Therapy Setting when you onboard.</p>
<div class="copy highlight"><span class="filename">Key_Phrase</span><pre><span></span><code>Guardrail(absoluteBounds:
</code></pre></div>
<ul>
<li>Module: LoopKit</li>
<li>Folder: LoopKit/Extensions</li>
<li>File: Guardrail+Settings.swift</li>
<li>Line: 12 for suspendThreshold</li>
<li>Line: 26 for correctionRange</li>
</ul>
<p><em>Code Before Modification</em></p>
<div class="highlight"><pre><span></span><code>static let suspendThreshold = Guardrail(absoluteBounds: 67...110, recommendedBounds: 74...80, unit: .milligramsPerDeciliter, startingSuggestion: 80)
</code></pre></div>
<p>and</p>
<div class="highlight"><pre><span></span><code>static let correctionRange = Guardrail(absoluteBounds: 87...180, recommendedBounds: 100...115, unit: .milligramsPerDeciliter, startingSuggestion: 100)
</code></pre></div>
<p>Modify the 67 for suspendThreshold or 87 for correctionRange to the desired value.  <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr> automatically converts from mg/dL. So you must enter values reasonable for mg/dL (18 times higher than for mmol/L).</p>
<h3 id="modify-guardrails-for-insulin-sensitivity-factor-isf">Modify <abbr title="limits in the code for user selected settings, recommended and absolute limits are provided">Guardrails</abbr> for Insulin Sensitivity Factor (<abbr title="Insulin Sensitivity Factor; how many points your blood sugar will drop for each unit of insulin; sometimes called Correction Factor">ISF</abbr>)<a class="headerlink" href="#modify-guardrails-for-insulin-sensitivity-factor-isf" title="Anchor link to this Header on this Page">&para;</a></h3>
<p>Similar to the instructions for glucose guardrails above, but use this <code>Key_Phrase</code> and modify the absoluteBounds row, next line.</p>
<div class="copy highlight"><span class="filename">Key_Phrase</span><pre><span></span><code>static let insulinSensitivity = Guardrail(
</code></pre></div>
<ul>
<li>Module: LoopKit</li>
<li>Folder: LoopKit/Extensions</li>
<li>File: Guardrail+Settings.swift, line: 81</li>
</ul>
<h3 id="modify-guardrails-for-carb-ratio-cr">Modify <abbr title="limits in the code for user selected settings, recommended and absolute limits are provided">Guardrails</abbr> for Carb Ratio (<abbr title="Carb Ratio; how many grams of carbs are covered by one unit of rapid-acting insulin">CR</abbr>)<a class="headerlink" href="#modify-guardrails-for-carb-ratio-cr" title="Anchor link to this Header on this Page">&para;</a></h3>
<p>Similar to the instructions for glucose guardrails above, but use this <code>Key_Phrase</code> and modify the absoluteBounds row, next line.</p>
<div class="copy highlight"><span class="filename">Key_Phrase</span><pre><span></span><code>static let carbRatio = Guardrail(
</code></pre></div>
<ul>
<li>Module: LoopKit</li>
<li>Folder: LoopKit/Extensions</li>
<li>File: Guardrail+Settings.swift, line: 88</li>
</ul>
<h2 id="adjust-future-carbs-time-interval">Adjust Future Carbs Time Interval<a class="headerlink" href="#adjust-future-carbs-time-interval" title="Anchor link to this Header on this Page">&para;</a></h2>
<p><abbr title="Latest release with major updates">Loop 3</abbr> limits the future time change allowed to 1 hour.</p>
<div class="copy highlight"><span class="filename">Key_Phrase</span><pre><span></span><code>cell.datePicker.maximumDate = date.addingTimeInterval
</code></pre></div>
<ul>
<li>Module: <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr></li>
<li>Folder: <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr>/<abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr>/View Controllers</li>
<li>File:CarbEntryViewController.swift, Line 438</li>
</ul>
<p>Default shown below (for maximum and minimum):</p>
<p><em>Code Before Modification</em></p>
<div class="highlight"><pre><span></span><code>cell.datePicker.maximumDate = date.addingTimeInterval(.hours(1))
cell.datePicker.minimumDate = date.addingTimeInterval(.hours(-12))
</code></pre></div>
<p>Change the maximumDate to the number of hours in the future you desire. Remember that <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr> may increase insulin dosing for future carbs - make sure that they actually arrive. </p>
<p>The minimumDate is how far back in the past you can modify time.  The default is 12 hours in the past.</p>
<h2 id="adjust-the-watch-crown-sensitivity">Adjust the Watch Crown Sensitivity<a class="headerlink" href="#adjust-the-watch-crown-sensitivity" title="Anchor link to this Header on this Page">&para;</a></h2>
<p>The rate of change of the carb and bolus entry pickers when using the digital crown can be altered as can the rotation required to confirm a bolus on the watch. If you are running an older series watch - you may want to make these customizations. When I switched from Series 3 to Series 7 watch - it was amazing. I got a graph on the main watch screen I didn't even know existed and the bolus acceptance was a breeze!</p>
<p>There are a number of places where you need to make changes (2 for sensitivity and 2 for bolus confirmation for <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr> 2.2.x), so walk though them one at a time. For the <code>Watch Crown Sensitivity</code>, the 1/24 value is the ratio of rotations of the crown to the amount of change in the value. Changing it to 1/12 would mean that half as many turns would be needed for the same amount of carb or bolus entry.</p>
<ul>
<li>The <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr> 2.2.x customizations are throughly tested by many users.</li>
<li>The <abbr title="Latest release with major updates">Loop 3</abbr> customization is provided from code inspection and one test - use with care.</li>
</ul>
<h3 id="loop-22x-sensitivity"><abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr> 2.2.x Sensitivity<a class="headerlink" href="#loop-22x-sensitivity" title="Anchor link to this Header on this Page">&para;</a></h3>
<div class="copy highlight"><span class="filename">Key_Phrase</span><pre><span></span><code>let rotationsPerIncrement
</code></pre></div>
<ul>
<li>Folder: <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr>/WatchApp Extension/Controllers</li>
<li>File: AddCarbsInterfaceController.swift, Line: 249</li>
<li>Initial Value: 1/24; try 1/12 to increase change in picker value for a given motion</li>
</ul>
<p align="center"><img alt="img/sensitivity1.png" src="../img/sensitivity2.png" width="800" /></p>
<div class="copy highlight"><span class="filename">Key_Phrase</span><pre><span></span><code>let rotationsPerValue
</code></pre></div>
<ul>
<li>Folder: <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr>/WatchApp Extension/Controllers</li>
<li>File: BolusInterfaceController.swift, Line: 191</li>
<li>Initial Value: 1/24; try 1/12 to increase change in picker value for a given motion</li>
</ul>
<p align="center"><img alt="img/sensitivity1.png" src="../img/sensitivity1.png" width="800" /></p>
<h3 id="loop-22x-bolus-confirmation"><abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr> 2.2.x Bolus Confirmation<a class="headerlink" href="#loop-22x-bolus-confirmation" title="Anchor link to this Header on this Page">&para;</a></h3>
<p>In order to reduce the amount the user has to spin the watch crown to confirm a bolus, there are 3 numbers on 2 lines that must be modified. You will be working in the same file you just used to modify the watch sensitivity to adjusting the bolus amount, BolusInterfaceController.swift.</p>
<p>For example to change rotation required to 70% of the default, change 1.0 to 0.7 in 3 places on those 2 lines. This <code>Key_Phrase</code> returns 3 lines, the second 2 of which are the ones in that file where the change is required:</p>
<div class="copy highlight"><span class="filename">Key_Phrase</span><pre><span></span><code>abs(accumulatedRotation)
</code></pre></div>
<ul>
<li>Folder: <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr>/WatchApp Extension/Controllers</li>
<li>File: BolusInterfaceController.swift, Lines: 311 and 360</li>
<li>Initial Value: 1.0; try 0.7 to decrease how much is needed to confirm bolus</li>
</ul>
<h3 id="loop-3-digital-crown-adjustments"><abbr title="Latest release with major updates">Loop 3</abbr> Digital Crown Adjustments<a class="headerlink" href="#loop-3-digital-crown-adjustments" title="Anchor link to this Header on this Page">&para;</a></h3>
<p>These are new instructions and the user should take care - and please <a href="../../intro/loopdocs-how-to/#how-to-find-help">report back</a> if you have problems.</p>
<p>First - try it with no customization. Then make small changes.</p>
<p>This key phrase will indicate three different files in the same folder as shown in the graphic below - you can adjust each in turn as you desire. When you click on the line, the quantity you change is a few lines below where you find the <code>Key_Phrase</code>, except for the CarbAndDateInput file.</p>
<div class="copy highlight"><span class="filename">Key_Phrase</span><pre><span></span><code>.digitalCrownRotation
</code></pre></div>
<ul>
<li>Module: <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr></li>
<li>Folder: <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr>/WatchApp Extension/Views/Carb Entry &amp; Bolus</li>
</ul>
<p align="center"><img alt="use a single Key_Phrase to identify all lines needed to customize sensitivity with loop 3" src="../img/digital-crown-rotation.svg" width="800" /></p>
<h4 id="modify-bolus-confirmation-motion">Modify Bolus Confirmation Motion<a class="headerlink" href="#modify-bolus-confirmation-motion" title="Anchor link to this Header on this Page">&para;</a></h4>
<ul>
<li>File: BolusConfirmationView.swift, line 59</li>
<li>Initial Value for <code>scalingRotationBy</code> is 4</li>
<li>Decrease to require less motion to confirm bolus (use whole numbers only), start with 3</li>
</ul>
<h4 id="modify-bolus-picker-sensitivity">Modify Bolus Picker Sensitivity<a class="headerlink" href="#modify-bolus-picker-sensitivity" title="Anchor link to this Header on this Page">&para;</a></h4>
<ul>
<li>File: BolusInput.swift, line 53</li>
<li>Initial Value for <code>rotationsPerIncrement</code> is 1/24</li>
<li>A change to 1/12 increases the change in picker value for a given motion</li>
</ul>
<h4 id="modify-carb-and-time-picker-sensitivity">Modify Carb and Time Picker Sensitivity<a class="headerlink" href="#modify-carb-and-time-picker-sensitivity" title="Anchor link to this Header on this Page">&para;</a></h4>
<ul>
<li>File: CarbAndDateInput.swift, line 68</li>
<li>Initial Value for <code>rotationsPerIncrement</code> is 1/24</li>
<li>A change to 1/12 increases the change in picker value for a given motion</li>
</ul>
<h2 id="expiration-notification-customization">Expiration Notification Customization<a class="headerlink" href="#expiration-notification-customization" title="Anchor link to this Header on this Page">&para;</a></h2>
<p>An expiration notification feature has been added to <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr>. You get a notification when you open the <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr> app to alert you that the expiration is approaching. (Not available with version v2.2.4 and earlier.)</p>
<ul>
<li>Read <a href="../../operation/features/notifications/#loop-app-expiration-notification"><abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr> App Expiration Notification</a> to see the expiration reminder</li>
<li>Read <a href="../../operation/features/notifications/#loop-app-expiration-date"><abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr> App <abbr title="your Loop app has a finite life, the app warns you starting 3 weeks before the expiration date">Expiration Date</abbr></a> if you have an older version of <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr></li>
</ul>
<p>If you prefer a different notification time and frequency, there are two lines you can modify:</p>
<ul>
<li>Module: <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr></li>
<li>Folder: <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr>/Managers</li>
<li>File: ProfileExpirationAlerter.swift<ul>
<li>Line 16: modify how long before expiration you get the FIRST notification</li>
<li>Line 28: modify how frequently you will be notified</li>
</ul>
</li>
</ul>
<div class="copy highlight"><span class="filename">Key_Phrase</span><pre><span></span><code>expirationAlertWindow: TimeInterval
</code></pre></div>
<div class="copy highlight"><span class="filename">Key_Phrase</span><pre><span></span><code> minimumTimeBetweenAlerts: TimeInterval
</code></pre></div>
<p align="center"><img alt="Profile expiration notification details" src="../img/expiration-custom.png" width="600" /></p>
<p>Default code for line 16:
<div class="highlight"><pre><span></span><code>    static let expirationAlertWindow: TimeInterval = .days(20)
</code></pre></div></p>
<p>Example modifications to First Notification:</p>
<ul>
<li>30 days: change <code>.days(20)</code> to <code>.days(30)</code></li>
<li>12 hours: change <code>.days(20)</code> to <code>.hours(12)</code></li>
</ul>
<p>Default code for line 28:</p>
<div class="highlight"><pre><span></span><code>    let minimumTimeBetweenAlerts: TimeInterval = timeUntilExpiration &gt; .hours(24) ? .days(2) : .hours(1)
</code></pre></div>
<p>Modify Frequency of Repeated Notifications (Three Values):</p>
<ul>
<li>This phrase: <code>&gt; .hours(24) ? .days(2) : .hours(1)</code></li>
<li>Rewritten as: <code>&gt; Time_A ? Frequency_A : Frequency_B</code>, means:<ul>
<li>Use Frequency_A if there is more time between now and the expiration date than Time_A</li>
<li>Use Frequency_B if there is less time between now and the expiration date than Time_A</li>
</ul>
</li>
</ul>
<p>You can enter Time or Frequency as <code>.days(value)</code>, <code>.hours(value)</code> or <code>.minutes(value)</code>.</p>
<p>Free App Users:</p>
<p>An example change that a Free <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr> App user (who has to build once a week) might choose is:</p>
<p><div class="highlight"><pre><span></span><code>     &gt; .hours(4) ? .days(10) : .hours(2)
</code></pre></div>
Combined with an <code>.hours(12)</code> on line 16, they would get notified at 12 hours, 4 hours and 2 hours before expiration on the day of expiration and only when the app is opened. Since you'll be building once a week, you can play around with these values until you are happy.</p>
<h2 id="exponential-insulin-curve">Exponential Insulin Curve<a class="headerlink" href="#exponential-insulin-curve" title="Anchor link to this Header on this Page">&para;</a></h2>
<h3 id="enable-child-model">Enable Child Model<a class="headerlink" href="#enable-child-model" title="Anchor link to this Header on this Page">&para;</a></h3>
<p><abbr title="Latest release with major updates">Loop 3</abbr>, by default, does not include the concept of child versus adult for rapid-acting insulin, i.e., Humalog, Novalog and Apidra.</p>
<ul>
<li>The child model can be enabled following the directions in <a href="#build-time-features">Build-Time Features</a>, adding ADULT_CHILD_INSULIN_MODEL_SELECTION_ENABLED to the LoopConfigOverride.xcconfig file and rebuilding</li>
<li>Insulin Model is then found in the Therapy Setting section of <abbr title="Latest release with major updates">Loop 3</abbr> with Adult selected by default</li>
<li>Insulin Type continues to be associated with the pump and can be modified in the Pump Settings screen</li>
</ul>
<h3 id="insulin-model-customization">Insulin Model Customization<a class="headerlink" href="#insulin-model-customization" title="Anchor link to this Header on this Page">&para;</a></h3>
<p>Each exponential model has 3 parameters that can be adjusted:</p>
<ul>
<li>actionDuration: Duration of insulin activity (minutes)</li>
<li>peakActivity: Peak of insulin activity (minutes)</li>
<li>delay: Delay before insulin begins to acts after delivery starts (minutes)</li>
</ul>
<p>Please read the nitty-gritty discussion that went into the development of the "exponential insulin models" in this <a href="https://github.com/LoopKit/Loop/issues/388#issuecomment-317938473"><abbr title="an online service for storing repositories, accessible from a browser">GitHub</abbr> <abbr title="On github - a formal method to report a problem, either code behavior or documentation">Issue</abbr> Comment</a>.</p>
<p>If you wish to customize these values, please make sure you know what you are doing.  This is not a modification recommended for <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr> novices.</p>
<div class="copy highlight"><span class="filename">Key_Phrase</span><pre><span></span><code>MARK: - Model generation
</code></pre></div>
<ul>
<li>Module: LoopKit</li>
<li><abbr title="Latest release with major updates">Loop 3</abbr><ul>
<li>Folder: LoopKit/LoopKit/Insulin/ &lt;&lt; NOTE new location</li>
<li>File: ExponentialInsulinModelPreset.swift</li>
<li>Lines:<ul>
<li>actionDuration (19 to 32)</li>
<li>peakActivity (34 to 47)</li>
<li>delay (49 to 62)</li>
</ul>
</li>
</ul>
</li>
<li><abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr> 2.2.x<ul>
<li>Folder: <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr>/LoopCore/Insulin</li>
<li>File: ExponentialInsulinModelPreset.swift</li>
<li>Lines:<ul>
<li>actionDuration (20 to 29)</li>
<li>peakActivity (31 to 40)</li>
<li>effectDelay (42 to 51)</li>
</ul>
</li>
</ul>
</li>
</ul>
<p align="center"><img alt="img/exponential.png" src="../img/exponential.png" width="750" /></p>
<p>This <abbr title="Latest release with major updates">Loop 3</abbr> table of default values is provided for convenience. The times are all in minutes.</p>
<table>
<thead>
<tr>
<th>Model</th>
<th><abbr title="Duration of Insulin Action, the full time insulin is active including a long, low-level tail">DIA</abbr></th>
<th>Peak</th>
<th>Delay</th>
</tr>
</thead>
<tbody>
<tr>
<td>rapidActingAdult</td>
<td>360</td>
<td>75</td>
<td>10</td>
</tr>
<tr>
<td>rapidActingChild</td>
<td>360</td>
<td>65</td>
<td>10</td>
</tr>
<tr>
<td>fiasp</td>
<td>360</td>
<td>55</td>
<td>10</td>
</tr>
<tr>
<td>lyumjev</td>
<td>360</td>
<td>55</td>
<td>10</td>
</tr>
<tr>
<td>afrezza</td>
<td>300</td>
<td>29</td>
<td>10</td>
</tr>
</tbody>
</table>
<h2 id="loop-logo"><abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr> Logo<a class="headerlink" href="#loop-logo" title="Anchor link to this Header on this Page">&para;</a></h2>
<div class="admonition warning">
<p class="admonition-title">Mac-<abbr title="program used to build an app">Xcode</abbr> Instructions</p>
<p>This can be done with <abbr title="an online service for storing repositories, accessible from a browser">GitHub</abbr> but the instructions might need to be adjusted for that case.</p>
</div>
<p>If you want an app logo other than the default green circle for your <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr> app, you can easily customize this.  To make it easy to generate the correct sizes of icons, you can use a site like <a href="http://www.appicon.build/">appicon.build</a> or <a href="https://appicon.co/">appicon.co</a> and just drag and drop your source image. The source image needs to be 1024 pixels x 1024 pixels.  The site will email you a zip file or automatically download a set of files.  Highlight and copy the contents of the Appicon.appiconset that you are sent, including the Contents.json file</p>
<p>Use <abbr title="graphical folder and file display on Mac">Finder</abbr> to Navigate to the LoopWorkspace folder. These instructions assume you used the <abbr title="by running a command in your terminal, this menu-driven tool assists in building Loop">Build Select Script</abbr> - if your files are in a different folder, make the appropriate adjustment.</p>
<p>For <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr> 2.2.x:</p>
<ol>
<li>Use <abbr title="graphical folder and file display on Mac">Finder</abbr> to navigate to Downloads / BuildLoop and open the folder with the most recent date (e.g., <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr>-Master-211006-0524)</li>
<li>Double-click on the LoopWorkspace folder</li>
<li>Double-click on the AdditionaAssets.xcassets folder</li>
<li>Double-click on the CustomLoopIcon.appiconset folder</li>
<li>Delete the contents of the CustomLoopIcon.appiconset folder and copy/paste your new images and Contents.json file.</li>
<li>Rebuild your app</li>
</ol>
<p>For <abbr title="Latest release with major updates">Loop 3</abbr>:</p>
<ol>
<li>Make sure <abbr title="program used to build an app">Xcode</abbr> is closed</li>
<li>Use <abbr title="graphical folder and file display on Mac">Finder</abbr> to navigate to Downloads / BuildLoop and open the folder with the most recent date (e.g., <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr>-230114-1153)</li>
<li>Double-click on the LoopWorkspace folder</li>
<li>Double-click on the OverrideAssetsLoop.xcassets folder</li>
<li>Double-click on the AppIcon.appiconset folder</li>
<li>Delete the contents of the Appicon.appiconset and copy/paste your new images and Contents.json file.</li>
<li>Rebuild your app</li>
</ol>
<p>You may see a yellow warning that there are unassigned children depending on the images the app icon generator tool produced. The unassigned children alert will not prevent your app from building, its simply because there are more sizes of images than <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr> app uses.  You can just leave the unassigned children alone (wow...how often do you get to say that phrase?).</p>
<p>And now you'll be the proud new owner of a custom <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr> icon.</p>
<h2 id="additional-customizations-for-loop-3">Additional Customizations for <abbr title="Latest release with major updates">Loop 3</abbr><a class="headerlink" href="#additional-customizations-for-loop-3" title="Anchor link to this Header on this Page">&para;</a></h2>
<p>Some customizations on this page add support for Libre sensors. If you are willing to build a dev <abbr title="version of code within a single repository or workspace repository">branch</abbr>, then Libre support is already added to that version. Please read <a href="../../version/development/#support-for-libre-sensors">Support for Libre Sensors</a>.</p>
<p>If you want to add these customizations: CustomTypeOne LoopPatches and clients for xDrip4iOS and GlucoseDirect, which assist those using Libre sensors, you can add them yourself (with either Mac-<abbr title="program used to build an app">Xcode</abbr> or <abbr title="an online service for storing repositories, accessible from a browser">GitHub</abbr> browser build method).</p>
<h3 id="open-a-terminal-in-loopworkspace-folder">Open a <abbr title="interface for entering commands to the computer">Terminal</abbr> in LoopWorkspace Folder<a class="headerlink" href="#open-a-terminal-in-loopworkspace-folder" title="Anchor link to this Header on this Page">&para;</a></h3>
<p>Refer to the graphic below.  The Downloads folder in <abbr title="graphical folder and file display on Mac">Finder</abbr> is highlighted on the upper left. The full path to <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr>.xcworkspace is highlighted along the bottom. Double clicking on that file opens <abbr title="program used to build an app">Xcode</abbr>; but to apply customizations, you need to type commands in the terminal.</p>
<ul>
<li>Open <abbr title="graphical folder and file display on Mac">Finder</abbr></li>
<li>Navigate to Downloads/BuildLoop and look for your download by name and date</li>
<li>Open that folder, for example, Downloads/BuildLoop/<abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr>-220803-1145</li>
<li>Find the LoopWorkspace folder icon (dashed-blue rectangle)</li>
<li>Hold down the CTRL key and click (or right-click) LoopWorkspace</li>
<li>A menu appears - select <code>New Terminal at Folder</code> (near the bottom of the list)</li>
</ul>
<p>This new terminal window is ready to accept commands as needed when the instructions say to start a terminal in the LoopWorkspace folder.</p>
<p>To confirm you are in the correct location, type <code>pwd</code> and return in the terminal. The response must end in LoopWorkspace. For example, using the graphic below, the response to <code>pwd</code> should be similar to:</p>
<p><code>/Users/marion/Downloads/BuildLoop/Loop-20220803-1145/LoopWorkspace</code></p>
<p align="center"><img alt="how to use finder to find the correct download and open xcode" src="../img/finding-loopworkspace.svg" width="750" /></p>
<h3 id="custom-type-one-looppatches">Custom Type One LoopPatches<a class="headerlink" href="#custom-type-one-looppatches" title="Anchor link to this Header on this Page">&para;</a></h3>
<p><strong>If you do not already use this set of customizations, please do not start.</strong></p>
<p>Several items were consolidated into a set of patches known as <a href="https://www.loopandlearn.org/custom-type-one-loop-patches">CustomTypeOne LoopPatches</a>. The easiest way to get CustomTypeOne LoopPatches is to use the <a href="https://www.loopandlearn.org/custom-code#custom"><abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr> and Learn: Customization Select Script</a>. This script can be used with either Mac-<abbr title="program used to build an app">Xcode</abbr> or <abbr title="an online service for storing repositories, accessible from a browser">GitHub</abbr> Browser build methods.</p>
<p>Please read the documentation and test any patch that you enable. These patches don't have the nice guardrails found in <abbr title="Latest release with major updates">Loop 3</abbr> and must be configured at the <abbr title="operating system used by Apple Mobile devices (iPhone, iPod, iPad)">iOS</abbr> Settings, <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr> interface. They cannot be adjusted inside the <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr> app.</p>
<p>Although special versions of Custom Type One LoopPatches are supplied via the Customization Select Script that are compatible with the dev <abbr title="version of code within a single repository or workspace repository">branch</abbr> and will be compatible with <abbr title="Latest release with major updates">Loop 3</abbr>.4.x, it is strongly recommended that if you don't already use these patches - do not start. The support for some features has already been replaced with features inside <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr> that will be standard with <abbr title="Latest release with major updates">Loop 3</abbr>.4, and other changes are expected in the future.</p>
<h2 id="libre-support-for-loop-32x-code">Libre Support for <abbr title="Latest release with major updates">Loop 3</abbr>.2.x Code<a class="headerlink" href="#libre-support-for-loop-32x-code" title="Anchor link to this Header on this Page">&para;</a></h2>
<div class="admonition tip">
<p class="admonition-title">Libre included in dev <abbr title="version of code within a single repository or workspace repository">branch</abbr></p>
<p>Libre support is now included in dev <abbr title="version of code within a single repository or workspace repository">branch</abbr>, which will soon be released as <abbr title="Latest release with major updates">Loop 3</abbr>.4.</p>
<p>If you are willing to <a href="../../version/build-dev/">build <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr>-dev</a>, you do not need any of these customizations to use a compatible Libre sensor.</p>
</div>
<h3 id="add-libre-app-to-loop-phone">Add Libre App to <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr> Phone<a class="headerlink" href="#add-libre-app-to-loop-phone" title="Anchor link to this Header on this Page">&para;</a></h3>
<p>LibreTransmitter for <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr> is already included in the dev <abbr title="version of code within a single repository or workspace repository">branch</abbr>. <a href="https://github.com/dabear/LibreTransmitter#libretransmitter-for-loop">README file on github <abbr title="contains project files and each file's revision history">repository</abbr></a>. If you <a href="../../version/build-dev/">Build <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr>-dev</a>, you do not need to add a Libre app to your phone.</p>
<p>You must do your own research to decide which code to use. Be aware that you must perform careful calibrations to maintain accurate glucose estimates.</p>
<p>These are Libre <abbr title="operating system used by Apple Mobile devices (iPhone, iPod, iPad)">iOS</abbr> app options that work with <abbr title="Latest release with major updates">Loop 3</abbr>.2.x. In other words, you install one of these <abbr title="continuous glucose monitor, wearable medical device that measures and reports glucose in interstitial fluid">CGM</abbr> apps on your phone <strong>and</strong> modify <abbr title="Latest release with major updates">Loop 3</abbr>.2.x to interface with the <abbr title="continuous glucose monitor, wearable medical device that measures and reports glucose in interstitial fluid">CGM</abbr> app using a shared <abbr title="a unique identifier that Apple users for a given app, yours has your TEAMID embedded in it, group.com.TEAMID.loopkit.LoopGroup">App Group</abbr>.</p>
<ul>
<li>xDrip4iOS: <a href="https://xdrip4ios.readthedocs.io/en/latest/">Documentation</a><ul>
<li>Check to see if your sensor is <a href="https://xdrip4ios.readthedocs.io/en/latest/#compatible-sensors">compatible</a></li>
<li>To use this code with <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr>, you must "build it yourself" with the same developer ID as you use with <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr><ul>
<li>You can use the <a href="https://www.loopandlearn.org/build-select/"><abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr> and Learn: <abbr title="by running a command in your terminal, this menu-driven tool assists in building Loop">Build Select Script</abbr></a> and choose Option 2: Build Related Apps and then select xDrip4iOS</li>
</ul>
</li>
<li>If you use the <abbr title="a method to distribute apps without direct connection">TestFlight</abbr> installation method with someone else's apple developer id, you will need an internet connection to <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr></li>
</ul>
</li>
<li>GlucoseDirect: <a href="https://github.com/creepymonster/GlucoseDirect#glucose-direct">README file on github <abbr title="contains project files and each file's revision history">repository</abbr></a><ul>
<li>To use this code with <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr>, you must "build it yourself" with the same developer ID as you use with <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr><ul>
<li>You can use the <a href="https://www.loopandlearn.org/build-select/"><abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr> and Learn: <abbr title="by running a command in your terminal, this menu-driven tool assists in building Loop">Build Select Script</abbr></a> and choose Option 2: Build Related Apps and then select GlucoseDirect</li>
</ul>
</li>
<li>If you use the <abbr title="a method to distribute apps without direct connection">TestFlight</abbr> installation method with someone else's apple developer id, you will need an internet connection to <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr></li>
</ul>
</li>
</ul>
<h3 id="modify-loop-to-use-libre">Modify <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr> to use Libre<a class="headerlink" href="#modify-loop-to-use-libre" title="Anchor link to this Header on this Page">&para;</a></h3>
<p>These customizations are only for <abbr title="Latest release with major updates">Loop 3</abbr>.2.x. They do not work for the dev <abbr title="version of code within a single repository or workspace repository">branch</abbr>, soon to be released as <abbr title="Latest release with major updates">Loop 3</abbr>.4.</p>
<p>For your selected app to read the Libre, you must also add a client to <abbr title="Latest release with major updates">Loop 3</abbr>.2.x to interface with the "reader" app. You only need to add the client for the app you've chosen for accessing your Libre sensor. However, you may find watching the video for GlucoseDirectClient and reading the step-by-step instructions for xdrip-client-swift or LibreTransmitter may together give you a better idea how to incorporate your preferred app with <abbr title="Latest release with major updates">Loop 3</abbr>.2.x.</p>
<p>Add a client that interfaces with xDrip4iOS:</p>
<ul>
<li><a href="https://github.com/JohanDegraeve/xdrip-client-swift-1#readme">Add xdrip-client-swift to <abbr title="Latest release with major updates">Loop 3</abbr>.2.x</a><ul>
<li>Note - there are extra details visible when you click on the black arrow icons in this file</li>
<li><a href="https://loop.zulipchat.com/#narrow/stream/144182-development/topic/Libre/near/292280110">zulipchat converstation</a></li>
</ul>
</li>
</ul>
<p>Add a client that interfaces with GlucoseDirect:</p>
<ul>
<li><a href="https://github.com/creepymonster/GlucoseDirectClient">Add GlucoseDirectClient</a><ul>
<li><a href="https://loop.zulipchat.com/#narrow/stream/144182-development/topic/Libre/near/292307629">zulipchat conversation</a></li>
<li>The instructions are in the video on the GlucoseDirectClient repo page</li>
</ul>
</li>
</ul>
<h3 id="libretransmitter">LibreTransmitter<a class="headerlink" href="#libretransmitter" title="Anchor link to this Header on this Page">&para;</a></h3>
<p>LibreTransmitter is included in <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr> dev and will be in <abbr title="Latest release with major updates">Loop 3</abbr>.4 when it is released:</p>
<ul>
<li>LibreTransmitter for <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr>: <a href="https://github.com/dabear/LibreTransmitter#libretransmitter-for-loop">README file on github <abbr title="contains project files and each file's revision history">repository</abbr></a><ul>
<li>LibreTransmitter is incorporated into <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr> directly, so there not a separate app to be installed</li>
<li>See <a href="../../version/build-dev/#buildloopdev-script-libre">BuildLoopDev Script</a></li>
</ul>
</li>
</ul>
<h2 id="limit-loop-for-faster-cgm">Limit <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr> for Faster <abbr title="continuous glucose monitor, wearable medical device that measures and reports glucose in interstitial fluid">CGM</abbr><a class="headerlink" href="#limit-loop-for-faster-cgm" title="Anchor link to this Header on this Page">&para;</a></h2>
<p>The released code of <abbr title="Latest release with major updates">Loop 3</abbr> (3.0.0 through 3.2.3) allows <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr> to run at higher rates of <abbr title="continuous glucose monitor, wearable medical device that measures and reports glucose in interstitial fluid">CGM</abbr> updates. One consequence of this can be increased usage of pump batteries. This can contribute to pod faults with Eros pods or even DASH pods when using a Libre sensor with 1-minute <abbr title="continuous glucose monitor, wearable medical device that measures and reports glucose in interstitial fluid">CGM</abbr> updates. Medtronic pumps are very unhappy with faster <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr> cycles and should not be subjected to this.</p>
<p>This modification limits the period for <abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr> cycles to 4.2 minutes or longer. See also <a href="https://www.loopandlearn.org/custom-code#custom-list"><abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr> and Learn: Customization List</a>.</p>
<div class="admonition important">
<p class="admonition-title">If your <abbr title="continuous glucose monitor, wearable medical device that measures and reports glucose in interstitial fluid">CGM</abbr> updates at 1-minute rates, please add this customization</p>
<p>This customization is consistent with the code currently in the dev <abbr title="version of code within a single repository or workspace repository">branch</abbr>, soon to be released as <abbr title="Latest release with major updates">Loop 3</abbr>.4.</p>
<p>This is only needed for <abbr title="Latest release with major updates">Loop 3</abbr>.2.2 and earlier versions.</p>
</div>
<ul>
<li>When building with Mac-<abbr title="program used to build an app">Xcode</abbr>, copy the command (below), paste into a terminal window on the Mac and choose <code>Limit CGM driven Loop Cycle to 5 minutes</code>:</li>
</ul>
<div class="copy highlight"><span class="filename">Customization Select script</span><pre><span></span><code>/bin/bash -c &quot;$(curl -fsSL https://raw.githubusercontent.com/loopandlearn/lnl-scripts/main/CustomizationSelect.sh)&quot;
</code></pre></div>
<ul>
<li>When using <abbr title="an online service for storing repositories, accessible from a browser">GitHub</abbr> Browser build, please refer to <a href="https://www.loopandlearn.org/custom-code#prepared-custom-list"><abbr title="With a capital L, Loop is one of several do-it-yourself artifical pancreas systems">Loop</abbr> and Learn: Code Customization: Prepared Customizations</a></li>
</ul>
<h2 id="folders-and-icons">Folders and Icons<a class="headerlink" href="#folders-and-icons" title="Anchor link to this Header on this Page">&para;</a></h2>
<p>The folders listed in the code customization steps are the actual directory names as stored on your computer.  However, a shortened name is used for some folders when being displayed as icons in <abbr title="program used to build an app">Xcode</abbr>. Some people prefer to search through the folder icons to find a file instead of using the <code>Find in Workspace</code> feature.</p>
<p>In the graphic below, the user searched for an item found for both Eros and DASH pods (in two different files).  The top part of the graphic shows the result of the search with user clicking on one instance.  On the right side of the top graphic (highlighted by red rectangle) is the name of the selected file on the computer with the full directory name.</p>
<ul>
<li>Inset 1: User clicked on the folder icon (highlighted by red square) to see the list of icons for folders included in the LoopWorkspace</li>
<li>Inset 2: User opens folders under <abbr title="radio-frequency device Loop uses to control Eros pods (aka. Gen 3) and older Medtronic pumps">RileyLink</abbr> icon to open OmniKit, then OmnipodCommon to find the Pod.swift file (NOTE - the Eros information is in a different Module now, OmniKit, but the graphic has not been updated.)</li>
</ul>
<p align="center"><img alt="graphic showing folder icons vs folder names" src="../img/xcode-folder-names.svg" width="750" /></p>
<p>These folder icon names are different from the directory names on the computer:</p>
<table>
<thead>
<tr>
<th align="left">Folder Icon Name</th>
<th align="left">Directory Name</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">ShareClient</td>
<td align="left">dexcom-share-client-swift</td>
<td></td>
</tr>
<tr>
<td align="left"><abbr title="radio-frequency device Loop uses to control Eros pods (aka. Gen 3) and older Medtronic pumps">RileyLink</abbr></td>
<td align="left">rileylink_ios</td>
<td></td>
</tr>
<tr>
<td align="left">Amplitude</td>
<td align="left">Amplitude-<abbr title="operating system used by Apple Mobile devices (iPhone, iPod, iPad)">iOS</abbr></td>
<td></td>
</tr>
</tbody>
</table>
<p>All other icons and directory names match.</p>





                
              </article>
            </div>
          
          
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../../version/releases/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Loop Releases" rel="prev">
            <div class="md-footer__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Loop Releases
              </div>
            </div>
          </a>
        
        
          
          <a href="../../gh-actions/gh-customize/" class="md-footer__link md-footer__link--next" aria-label="Next: Customize using Browser" rel="next">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Customize using Browser
              </div>
            </div>
            <div class="md-footer__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.footer", "navigation.tabs", "navigation.tabs.sticky", "navigation.tracking", "navigation.top", "search.suggest", "search.highlight", "content.code.annotate", "content.tooltips"], "search": "../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.b4d07000.min.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>