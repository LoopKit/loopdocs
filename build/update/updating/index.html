<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../../img/favicon.ico">

	<title>Update Loop - Loop Docs</title>

        <link href="../../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link rel="stylesheet" href="../../../css/highlight.css">
        <link href="../../../css/base.css" rel="stylesheet">
        <link href="../../../css/admonitions.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-109876065-1', 'loopkit.github.io');
            ga('send', 'pageview');
        </script>
        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <!-- Main title -->
            <a class="navbar-brand" href="../../..">Loop Docs</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav">
            
            
                <li >
                    <a href="../../..">Home</a>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">FAQs <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        
<li >
    <a href="../../../faqs/FAQs/">General Loop FAQs</a>
</li>

                    
                        
<li >
    <a href="../../../faqs/omnipod-faqs/">Omnipod FAQs</a>
</li>

                    
                        
<li >
    <a href="../../../faqs/rileylink-faqs/">RileyLink FAQs</a>
</li>

                    
                        
<li >
    <a href="../../../faqs/algorithm-faqs/">Algorithm FAQs</a>
</li>

                    
                        
<li >
    <a href="../../../faqs/safety-faqs/">Safety Tips</a>
</li>

                    
                        
<li >
    <a href="../../../faqs/glossary/">Glossary</a>
</li>

                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Gear <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        
<li >
    <a href="../../../setup/requirements/mdt-pump/">Medtronic</a>
</li>

                    
                        
<li >
    <a href="../../../setup/requirements/cgm/">CGM</a>
</li>

                    
                        
<li >
    <a href="../../../setup/requirements/rileylink/">RileyLink</a>
</li>

                    
                        
<li >
    <a href="../../../setup/requirements/computer/">Computer</a>
</li>

                    
                        
<li >
    <a href="../../../setup/requirements/iphone/">iPhone</a>
</li>

                    
                        
<li >
    <a href="../../../setup/requirements/appledev/">Apple Developer</a>
</li>

                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown active">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Build App <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        
<li >
    <a href="../../overview/">Overview</a>
</li>

                    
                        
<li >
    <a href="../../build-computer/">Prep Computer</a>
</li>

                    
                        
<li >
    <a href="../../build-developer/">Get Developer Account</a>
</li>

                    
                        
<li >
    <a href="../../build-xcode/">Install Xcode</a>
</li>

                    
                        
<li >
    <a href="../../build-loop/">Build Loop</a>
</li>

                    
                        
<li >
    <a href="../../build_errors/">Build Errors</a>
</li>

                    
                        
<li >
    <a href="../../health/">Health Permissions</a>
</li>

                    
                        
<li >
    <a href="../../jaeb-study/">Jaeb Study</a>
</li>

                    
                        
<li >
    <a href="../../code_customization/">Code Customization</a>
</li>

                    
                        
<li >
    <a href="../../new-iphone/">New iPhone</a>
</li>

                    
                        
<li class="active">
    <a href="./">Update Loop</a>
</li>

                    
                        
<li >
    <a href="../new-version/">New Version Info</a>
</li>

                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Operate <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">App setup</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../operation/loop-settings/settings/">Loop Settings</a>
</li>

        
            
<li >
    <a href="../../../operation/loop-settings/services/">Loop Services</a>
</li>

        
            
<li >
    <a href="../../../operation/loop-settings/rileylink_menu/">RileyLink menu</a>
</li>

        
            
<li >
    <a href="../../../operation/loop-settings/pump/">Pump Setup</a>
</li>

        
            
<li >
    <a href="../../../operation/overview/">Loop Displays</a>
</li>

        
    </ul>
  </li>

                    
                        
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">How to Use Loop App</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../operation/features/carbs/">Carb Entries</a>
</li>

        
            
<li >
    <a href="../../../operation/features/bolus/">Bolus</a>
</li>

        
            
<li >
    <a href="../../../operation/features/workout/">Workout Targets</a>
</li>

        
            
<li >
    <a href="../../../operation/features/ice/">Using ICE info</a>
</li>

        
            
<li >
    <a href="../../../operation/features/watch/">Apple Watch</a>
</li>

        
            
<li >
    <a href="../../../operation/features/widget/">iPhone widget</a>
</li>

        
            
<li >
    <a href="../../../operation/features/notifications/">Loop Notifications</a>
</li>

        
            
<li >
    <a href="../../../operation/features/battery/">Pump Battery</a>
</li>

        
    </ul>
  </li>

                    
                        
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Looping Tips</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../operation/loop/open-loop/">Open Loop</a>
</li>

        
            
<li >
    <a href="../../../operation/loop/close-loop/">Closed Loop</a>
</li>

        
            
<li >
    <a href="../../../operation/loop/looptips/">Loop Tips</a>
</li>

        
    </ul>
  </li>

                    
                        
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Algorithm</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../operation/algorithm/overview/">Overview</a>
</li>

        
            
<li >
    <a href="../../../operation/algorithm/bolus/">Bolus Recommendations</a>
</li>

        
            
<li >
    <a href="../../../operation/algorithm/prediction/">Glucose Prediction</a>
</li>

        
            
<li >
    <a href="../../../operation/algorithm/temp-basal/">Temp Basal Adjustments</a>
</li>

        
    </ul>
  </li>

                    
                        
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Troubleshoot</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../troubleshooting/overview/">Overview</a>
</li>

        
            
<li >
    <a href="../../../troubleshooting/green-loop/">Grey Loop</a>
</li>

        
            
<li >
    <a href="../../../troubleshooting/yellow-red-loop/">Yellow/Red Loop</a>
</li>

        
            
<li >
    <a href="../../../troubleshooting/priming/">Priming and Sites</a>
</li>

        
            
<li >
    <a href="../../../troubleshooting/time-change/">Time Changes</a>
</li>

        
            
<li >
    <a href="../../../troubleshooting/pump-errors/">MDT Pump Errors</a>
</li>

        
    </ul>
  </li>

                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Nightscout <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        
<li >
    <a href="../../../nightscout/overview/">Overview</a>
</li>

                    
                        
<li >
    <a href="../../../nightscout/new_user/">Brand New NS</a>
</li>

                    
                        
<li >
    <a href="../../../nightscout/update_user/">Retrofit Existing NS</a>
</li>

                    
                        
<li >
    <a href="../../../nightscout/mlab_cleanup/">NS Stopped Working</a>
</li>

                    
                        
<li >
    <a href="../../../nightscout/azure_migration/">Azure to Heroku</a>
</li>

                    
                        
<li >
    <a href="../../../nightscout/ifttt/">IFTTT</a>
</li>

                    
                        
<li >
    <a href="../../../nightscout/pebble/">Pebble</a>
</li>

                    
                        
<li >
    <a href="../../../nightscout/pushover/">Remote Notifications</a>
</li>

                    
                        
<li >
    <a href="../../../nightscout/reports/">Reports</a>
</li>

                    
                    </ul>
                </li>
            
            
            </ul>

            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                <li >
                    <a rel="next" href="../../new-iphone/">
                        <i class="fa fa-arrow-left"></i> Previous
                    </a>
                </li>
                <li >
                    <a rel="prev" href="../new-version/">
                        Next <i class="fa fa-arrow-right"></i>
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#updating-loop">Updating Loop</a></li>
        
            <li><a href="#when-to-update">When to Update</a></li>
        
            <li><a href="#step-1-update-os-and-xcode">Step 1: Update OS and Xcode</a></li>
        
            <li><a href="#step-2-download-updated-loop-code">Step 2: Download Updated Loop Code</a></li>
        
            <li><a href="#step-3-open-in-xcode-sign-targets">Step 3: Open in Xcode, Sign Targets</a></li>
        
            <li><a href="#step-3-add-code-customizations">Step 3: Add Code Customizations</a></li>
        
            <li><a href="#step-4-build-to-your-iphone">Step 4: Build to your iPhone</a></li>
        
            <li><a href="#step-5-resolve-build-errors">Step 5: Resolve Build Errors</a></li>
        
    
    </ul>
</div></div>
            <div class="col-md-9" role="main">

<h1 id="updating-loop">Updating Loop<a class="headerlink" href="#updating-loop" title="Permanent link">⌁</a></h1>
<p>When a new version of Loop is released, you can click <a href="https://github.com/LoopKit/Loop/releases">HERE</a> to read what features or fixes were a part of the new release.</p>
<p>The process to update is very similar to the original building of Loop app, except you get to skip a couple of the early steps.  The update steps are:</p>
<ol>
<li>Update macOS, Xcode, iOS, and/or watchOS</li>
<li>Download updated Loop code</li>
<li>Open in Xcode, sign targets</li>
<li>Add optional code customizations</li>
<li>Build onto your iPhone</li>
<li>Resolve Build Errors</li>
</ol>
<p>You do not have to delete your existing app. The new app update will simply overwrite the old app and save all your old settings and information.</p>
<h2 id="when-to-update">When to Update<a class="headerlink" href="#when-to-update" title="Permanent link">⌁</a></h2>
<p>You will have to rebuild your Loop app at a minimum once every 12 months. The apps built and signed by you in Xcode with a paid developer account will only last for 12 months before they expire and need rebuilding. So, at least once per year you will have to rebuild your app and go through this update process.</p>
<p>Under ordinary circumstances, you do not <em>have to</em> update your Loop app until you are ready to grab new features. However, we encourage regular updates when a new version is released because they often contain bug fixes or improvements which may increase operational stability.</p>
<h2 id="step-1-update-os-and-xcode">Step 1: Update OS and Xcode<a class="headerlink" href="#step-1-update-os-and-xcode" title="Permanent link">⌁</a></h2>
<p><u>If you miss macOS or Xcode updates, you may run into build problems. Do not skip these steps before updating Loop.</u> </p>
<p>Between Loop app builds, there's a high liklihood that Apple has updated one or more of the systems involved in your Loop app. You need to check the following for updates to prevent build conflicts during your update of Loop:</p>
<ul>
<li>
<p>update your macOS by clicking on your apple icon in the computer's upper left corner and then selecting "Software Update" button. If your macOS needs an update, this will lead you there. Do this step first before checking for Xcode udpates in the next update step. The macOS needs to be updated to the most current in some situations in order to support the most recent Xcode.  You need macOS High Sierra or Mojave at a minimum.</p>
</li>
<li>
<p>update your Xcode by opening the App Store application in your computer and selecting the "Updates" from the left-hand column. If an Xcode update is available, install the update before moving on with Loop updates.  You need Xcode 10.1 at a minimum.</p>
</li>
<li>
<p>update your iPhone's iOS. To check if an iOS update is available, click on your iPhone's Settings, General, Software Update and then click on "install update" button if one is available. You need iOS 11.1 at a minimum, but iOS 12 or later is recommended.</p>
</li>
<li>
<p>update your Apple Watch's watchOS. To check if a watchOS update is available, click on your Watch App in your paired iPhone and then go to Settings, General, Software Update and then click on "install update" if one is available. You need watchOS 4.1 at a minimum, but watchOS 5 or later is recommended.</p>
</li>
</ul>
<h2 id="step-2-download-updated-loop-code">Step 2: Download Updated Loop Code<a class="headerlink" href="#step-2-download-updated-loop-code" title="Permanent link">⌁</a></h2>
<p>After you've finished the updates to your devices listed above, you can move onto downloading updated Loop code. You will not be simply using your old downloaded Loop code (and in fact, you can delete those old folders now if you want). Click on <strong>ONE</strong> of the links below to download an updated versions of Loop code (most people will use Master, see note below for explanation):
</br></br>
<p align="center">
<a href="https://github.com/LoopKit/Loop/archive/master.zip">Loop: Master branch source code</a>
</p></br>
<p align="center">
<strong>OR</strong></br></br>
<a href="https://github.com/LoopKit/Loop/archive/dev.zip">Loop: Dev branch source code</a>
</p></br></p>
<p>FYI: The Loop source code resides in <a href="https://github.com/LoopKit/Loop">GitHub</a> within a repository.  A repository is kind of like a project's bookshelf, holding various books (aka branches) of a project.  The master branch is considered a stable version.  Any new features or options are first tested in a dev (short for "development") branch of the Loop.  New or inexperienced users should not build from the dev branch of Loop.  So if you hear of "new features in dev", these are things that may be eventually merged into the master branch once any bugs are worked out.</p>
<div class="admonition info">
<p>IMPORTANT NOTES: Best practice is to leave your Loop code in your Downloads folder.  If you store your Loop code a different folder than Downloads (such as your Documents folder or Desktop), make sure the specified folder is <strong>not</strong> an iCloud drive.  Storing your Loop code in an iCloud drive folder will prevent Loop from building successfully.  How do you know if a folder is an iCloud drive?  Check your System Preferences.  If your System Preferences for iCloud is set as shown below, your Documents and Desktop folders are iCloud drives and <strong>NOT</strong> appropriate places to save your Loop download.
<p align="center">
<img src="../img/icloud-drive.png" width="550">
</p></br>
Depending on your browser and settings, your Loop download may or may not automatically unzip.  If it does not unzip automatically, you can right-click on the zip file and choose to "Open With" Archive Utility.  This will create a blue folder called <code>Loop-master</code>.  HOWEVER, if you already have an existing <code>Loop-master</code> folder from a previous download, the name of the next download will be something like <code>Loop-master (1)</code>.  The problem with that folder name is that it contains a space...and spaces in the name will cause your Loop build to fail.  So, either delete old copies of Loop before downloading/unzipping or rename the folder(s) to ensure that NO SPACES are in the folder name.
<p align="center">
<img src="../img/folder-name.png" width="550">
</p></p>
</div>
<h2 id="step-3-open-in-xcode-sign-targets">Step 3: Open in Xcode, Sign Targets<a class="headerlink" href="#step-3-open-in-xcode-sign-targets" title="Permanent link">⌁</a></h2>
<p>Double click the Loop folder in your Downloads folder, and then double click the <code>Loop.xcodeproj</code> to open the Loop project in Xcode. Navigate, as you did when you originally built the app, to the four target areas. Sign the four targets with your developer team name. Remember that the "(personal team)" in the signing team's name indicates that is a free account and the app will only last for 7 days if you sign with that team name.</p>
<h2 id="step-3-add-code-customizations">Step 3: Add Code Customizations<a class="headerlink" href="#step-3-add-code-customizations" title="Permanent link">⌁</a></h2>
<p>Add or redo any code customizations, if needed.  These will not be carried over automatically from the old app.  Be sure to read up in the <a href="https://loopkit.github.io/loopdocs/build/code_customization/">code customizations section</a> before building, as there may be new customizations available since the previous build.</p>
<p>If you are building with a free account, you will have to remove the Siri capabilities in order to build.</p>
<h2 id="step-4-build-to-your-iphone">Step 4: Build to your iPhone<a class="headerlink" href="#step-4-build-to-your-iphone" title="Permanent link">⌁</a></h2>
<p>Plug your iPhone into the computer, unlock it so that the phone does not fall asleep during the build process.  You can find this setting under Settings, Display &amp; Brightness, Auto-Lock, set to "Never". You can return to your normal lock settings after the build is done.  </p>
<p>Select your iPhone from the top of the device list near Loop's window's upper left area, and then press the triangle "build" button similar to how you did your original Loop build.</p>
<p><strong>NOW BE PATIENT.</strong>  Loop will take a long time to build; between 25-45 minutes depending on your computer.  The Loop build process will appear to stall or hang a very long time on one build step in particular. Do not worry. This is normal. One step will take a significant amount of time relative to all the other steps. Once that long step is done, the rest will fly by fairly quickly.</p>
<p>At the end of all the steps, you will either get a Build Succeeded or Build Failed message.</p>
<ul>
<li>If your build suceeded, you can unplug your phone and move on with Looping. Your new Loop version will be displayed in the top of your Loop Settings screen.</br></br></li>
<li>If your build failed, you will need to go to Step 5 below.</li>
</ul>
<h2 id="step-5-resolve-build-errors">Step 5: Resolve Build Errors<a class="headerlink" href="#step-5-resolve-build-errors" title="Permanent link">⌁</a></h2>
<p><strong>If you get any red build errors or a "Loop Build Failed" message, please check <a href="https://loopkit.github.io/loopdocs/build/build_errors/">this section</a> for fixes.</strong></p></div>
        </div>

        <footer class="col-md-12">
            <hr>
            
            <center>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</center>
        </footer>

        <script src="../../../js/jquery-1.10.2.min.js"></script>
        <script src="../../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../../js/highlight.pack.js"></script>
        <script>var base_url = '../../..';</script>
        <script data-main="../../../mkdocs/js/search.js" src="../../../mkdocs/js/require.js"></script>
        <script src="../../../js/base.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                        <h4 class="modal-title" id="exampleModalLabel">Search</h4>
                    </div>
                    <div class="modal-body">
                        <p>
                            From here you can search these documents. Enter
                            your search terms below.
                        </p>
                        <form role="form">
                            <div class="form-group">
                                <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                            </div>
                        </form>
                        <div id="mkdocs-search-results"></div>
                    </div>
                    <div class="modal-footer">
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>